<!DOCTYPE html>
<!-- saved from url=(0137)https://towardsdatascience.com/ml-impossible-train-a-1-billion-sample-model-in-20-minutes-with-vaex-and-scikit-learn-on-your-9e2968e6f385 -->
<html lang="en" data-rh="lang"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script async="" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/branch-latest.min.js"></script><script async="" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/analytics.js"></script><script>!function(c,f){var t,o,i,e=[],r={passive:!0,capture:!0},n=new Date,a="pointerup",u="pointercancel";function p(n,e){t||(t=e,o=n,i=new Date,w(f),s())}function s(){0<=o&&o<i-n&&(e.forEach(function(n){n(o,t)}),e=[])}function l(n){if(n.cancelable){var e=(1e12<n.timeStamp?new Date:performance.now())-n.timeStamp;"pointerdown"==n.type?function(n,e){function t(){p(n,e),i()}function o(){i()}function i(){f(a,t,r),f(u,o,r)}c(a,t,r),c(u,o,r)}(e,n):p(e,n)}}function w(e){["click","mousedown","keydown","touchstart","pointerdown"].forEach(function(n){e(n,l,r)})}w(c),self.perfMetrics=self.perfMetrics||{},self.perfMetrics.onFirstInputDelay=function(n){e.push(n),s()}}(addEventListener,removeEventListener)</script><title>ML impossible: Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn</title><meta data-rh="true" name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"><meta data-rh="true" name="theme-color" content="#000000"><meta data-rh="true" name="twitter:app:name:iphone" content="Medium"><meta data-rh="true" name="twitter:app:id:iphone" content="828256236"><meta data-rh="true" property="al:ios:app_name" content="Medium"><meta data-rh="true" property="al:ios:app_store_id" content="828256236"><meta data-rh="true" property="al:android:package" content="com.medium.reader"><meta data-rh="true" property="fb:app_id" content="542599432471018"><meta data-rh="true" property="og:site_name" content="Medium"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2020-01-22T16:09:41.353Z"><meta data-rh="true" name="title" content="ML impossible: Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn"><meta data-rh="true" property="og:title" content="ML impossible: train a 1 billion sample model in 5 minutes with vaex and scikit-learn on your…"><meta data-rh="true" property="twitter:title" content="ML impossible: train a 1 billion sample model in 5 minutes with vaex and scikit-learn on your…"><meta data-rh="true" name="twitter:site" content="@TDataScience"><meta data-rh="true" name="twitter:app:url:iphone" content="medium://p/9e2968e6f385"><meta data-rh="true" property="al:android:url" content="medium://p/9e2968e6f385"><meta data-rh="true" property="al:ios:url" content="medium://p/9e2968e6f385"><meta data-rh="true" property="al:android:app_name" content="Medium"><meta data-rh="true" name="description" content="“Data is the new oil.” Regardless of whether or not you agree with this statement, the race for gathering and exploiting data has been going on for a while now. In fact, one thing the tech giants of…"><meta data-rh="true" property="og:description" content="Make your laptop feel like a supercomputer."><meta data-rh="true" property="twitter:description" content="Make your laptop feel like a supercomputer."><meta data-rh="true" property="og:url" content="https://towardsdatascience.com/ml-impossible-train-a-1-billion-sample-model-in-20-minutes-with-vaex-and-scikit-learn-on-your-9e2968e6f385"><meta data-rh="true" property="al:web:url" content="https://towardsdatascience.com/ml-impossible-train-a-1-billion-sample-model-in-20-minutes-with-vaex-and-scikit-learn-on-your-9e2968e6f385"><meta data-rh="true" property="og:image" content="https://miro.medium.com/max/1200/1*h2AULwOK8hDOy7-EwtB-3Q.jpeg"><meta data-rh="true" name="twitter:image:src" content="https://miro.medium.com/max/1200/1*h2AULwOK8hDOy7-EwtB-3Q.jpeg"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="article:author" content="https://towardsdatascience.com/@jovan.veljanoski"><meta data-rh="true" name="author" content="Jovan Veljanoski"><meta data-rh="true" name="robots" content="index,follow"><meta data-rh="true" name="referrer" content="unsafe-url"><meta data-rh="true" name="twitter:label1" value="Reading time"><meta data-rh="true" name="twitter:data1" value="15 min read"><meta data-rh="true" name="parsely-post-id" content="9e2968e6f385"><link data-rh="true" rel="search" type="application/opensearchdescription+xml" title="Medium" href="https://towardsdatascience.com/osd.xml"><link data-rh="true" rel="apple-touch-icon" sizes="152x152" href="https://cdn-images-1.medium.com/fit/c/152/152/1*8I-HPL0bfoIzGied-dzOvA.png"><link data-rh="true" rel="apple-touch-icon" sizes="120x120" href="https://cdn-images-1.medium.com/fit/c/120/120/1*8I-HPL0bfoIzGied-dzOvA.png"><link data-rh="true" rel="apple-touch-icon" sizes="76x76" href="https://cdn-images-1.medium.com/fit/c/76/76/1*8I-HPL0bfoIzGied-dzOvA.png"><link data-rh="true" rel="apple-touch-icon" sizes="60x60" href="https://cdn-images-1.medium.com/fit/c/60/60/1*8I-HPL0bfoIzGied-dzOvA.png"><link data-rh="true" rel="mask-icon" href="https://cdn-static-1.medium.com/_/fp/icons/monogram-mask.KPLCSFEZviQN0jQ7veN2RQ.svg" color="#171717"><link data-rh="true" id="glyph_link" rel="stylesheet" type="text/css" href="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/m2.css"><link data-rh="true" rel="author" href="https://towardsdatascience.com/@jovan.veljanoski"><link data-rh="true" rel="canonical" href="https://towardsdatascience.com/ml-impossible-train-a-1-billion-sample-model-in-20-minutes-with-vaex-and-scikit-learn-on-your-9e2968e6f385"><link data-rh="true" rel="alternate" href="android-app://com.medium.reader/https/medium.com/p/9e2968e6f385"><script data-rh="true">(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-24232453-2', 'auto');
ga('send', 'pageview');</script><link rel="preload" href="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/16180790160.js" as="script"><style type="text/css" data-fela-rehydration="458" data-fela-type="STATIC">html{box-sizing:border-box}*, *:before, *:after{box-sizing:inherit}body{margin:0;padding:0;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;color:rgba(0,0,0,0.8);position:relative;min-height:100vh}h1, h2, h3, h4, h5, h6, dl, dd, ol, ul, menu, figure, blockquote, p, pre, form{margin:0}menu, ol, ul{padding:0;list-style:none;list-style-image:none}main{display:block}a{color:inherit;text-decoration:none}a, button, input{-webkit-tap-highlight-color:transparent}img, svg{vertical-align:middle}button{background:transparent;overflow:visible}button, input, optgroup, select, textarea{margin:0}</style><style type="text/css" data-fela-rehydration="458" data-fela-type="KEYFRAME">@-webkit-keyframes k1{0%{transform:scale(1);opacity:1}70%{transform:scale(1.4);opacity:0}100%{opacity:0}}@-moz-keyframes k1{0%{transform:scale(1);opacity:1}70%{transform:scale(1.4);opacity:0}100%{opacity:0}}@keyframes k1{0%{transform:scale(1);opacity:1}70%{transform:scale(1.4);opacity:0}100%{opacity:0}}</style><style type="text/css" data-fela-rehydration="458" data-fela-type="RULE">.a{font-family:medium-content-sans-serif-font, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif}.b{font-weight:400}.c{background-color:rgba(255, 255, 255, 1)}.l{height:100vh}.m{width:100vw}.n{display:flex}.o{align-items:center}.p{justify-content:center}.q{fill:rgba(0, 0, 0, 0.84)}.r{display:block}.s{position:fixed}.t{top:0}.u{left:0}.v{right:0}.w{z-index:500}.x{box-shadow:0 4px 12px 0 rgba(0, 0, 0, 0.05)}.ai{max-width:1192px}.aj{min-width:0}.ak{width:100%}.al{height:65px}.ao{flex:1 0 auto}.ap{flex:0 0 auto}.aq{visibility:hidden}.ar{margin-left:16px}.as{font-family:medium-content-sans-serif-font, "Lucida Grande", "Lucida Sans Unicode", "Lucida Sans", Geneva, Arial, sans-serif}.at{font-style:normal}.au{line-height:20px}.av{font-size:15.8px}.aw{letter-spacing:0px}.ax{color:rgba(0, 0, 0, 0.54)}.ay{fill:rgba(0, 0, 0, 0.54)}.az{color:rgba(90, 118, 144, 1)}.ba{fill:rgba(102, 138, 170, 1)}.bb{font-size:inherit}.bc{border:inherit}.bd{font-family:inherit}.be{letter-spacing:inherit}.bf{font-weight:inherit}.bg{padding:0}.bh{margin:0}.bi:hover{cursor:pointer}.bj:hover{color:rgba(84, 108, 131, 1)}.bk:hover{fill:rgba(90, 118, 144, 1)}.bl:focus{outline:none}.bm:disabled{cursor:default}.bn:disabled{color:rgba(3, 168, 124, 0.5)}.bo:disabled{fill:rgba(3, 168, 124, 0.5)}.bp{padding:8px 16px}.bq{background:0}.br{border-color:rgba(102, 138, 170, 1)}.bs:hover{border-color:rgba(90, 118, 144, 1)}.bt{border-radius:4px}.bu{border-width:1px}.bv{border-style:solid}.bw{box-sizing:border-box}.bx{display:inline-block}.by{text-decoration:none}.bz{border-top:none}.ca{background-color:rgba(53, 88, 118, 1)}.cc{height:54px}.cd{overflow:hidden}.ce{margin-right:40px}.cf{height:36px}.cg{width:100px}.ch{overflow:auto}.ci{flex:0 1 auto}.cj{list-style-type:none}.ck{line-height:40px}.cl{white-space:nowrap}.cm{overflow-x:auto}.cn{align-items:flex-start}.co{margin-top:20px}.cp{padding-top:20px}.cq{height:80px}.cr{height:20px}.cs{margin-right:15px}.ct{margin-left:15px}.cu:first-child{margin-left:0}.cv{min-width:1px}.cw{background-color:rgba(197, 210, 225, 1)}.cx{font-weight:300}.cy{font-size:15px}.cz{color:rgba(197, 210, 225, 1)}.da{text-transform:uppercase}.db{letter-spacing:1px}.dc{color:inherit}.dd{fill:inherit}.de:hover{color:rgba(251, 255, 255, 1)}.df:hover{fill:rgba(233, 241, 250, 1)}.dg:disabled{color:rgba(150, 171, 191, 1)}.dh:disabled{fill:rgba(150, 171, 191, 1)}.di{margin-bottom:0px}.dj{height:119px}.dm{padding-left:24px}.dn{padding-right:24px}.do{margin-left:auto}.dp{margin-right:auto}.dq{max-width:728px}.dr{flex-direction:column}.ds{position:absolute}.dt{top:calc(100vh + 100px)}.du{bottom:calc(100vh + 100px)}.dv{width:10px}.dw{pointer-events:none}.dx{word-break:break-word}.dy{word-wrap:break-word}.dz:after{display:block}.ea:after{content:""}.eb:after{clear:both}.ec{clear:both}.ed{margin-top:0px}.ee{transition:transform 300ms cubic-bezier(0.2, 0, 0.2, 1)}.ef{cursor:zoom-in}.eg{position:relative}.eh{z-index:auto}.ei{opacity:0}.ej{transition:opacity 100ms 400ms}.ek{height:100%}.el{will-change:transform}.em{transform:translateZ(0)}.en{margin:auto}.eo{background-color:rgba(0, 0, 0, 0.05)}.ep{padding-bottom:60%}.eq{filter:blur(20px)}.er{transform:scale(1.1)}.es{visibility:visible}.et{background:rgba(255, 255, 255, 1)}.eu{font-size:16px}.ev{line-height:1.4}.ew{margin-top:10px}.ex{text-align:center}.fa{max-width:680px}.fb{line-height:1.23}.fc{letter-spacing:0}.fd{color:rgba(0, 0, 0, 0.84)}.fe{font-family:medium-content-title-font, Georgia, Cambria, "Times New Roman", Times, serif}.fp{margin-bottom:-0.27em}.fv{line-height:1.394}.gg{margin-bottom:-0.42em}.gm{margin-top:32px}.gn{justify-content:space-between}.gr{border-radius:50%}.gs{height:48px}.gt{width:48px}.gu{margin-left:12px}.gv{margin-bottom:2px}.gx{max-height:20px}.gy{text-overflow:ellipsis}.gz{display:-webkit-box}.ha{-webkit-line-clamp:1}.hb{-webkit-box-orient:vertical}.hc:hover{text-decoration:underline}.hd:disabled{color:rgba(0, 0, 0, 0.54)}.he:disabled{fill:rgba(0, 0, 0, 0.54)}.hf{margin-left:8px}.hg{padding:0px 8px}.hh{border-color:rgba(0, 0, 0, 0.54)}.hi:hover{color:rgba(0, 0, 0, 0.97)}.hj:hover{fill:rgba(0, 0, 0, 0.97)}.hk:hover{border-color:rgba(0, 0, 0, 0.84)}.hl:disabled{fill:rgba(0, 0, 0, 0.76)}.hm:disabled{border-color:rgba(0, 0, 0, 0.2)}.hn:disabled{cursor:inherit}.ho:disabled:hover{color:rgba(0, 0, 0, 0.54)}.hp:disabled:hover{fill:rgba(0, 0, 0, 0.76)}.hq:disabled:hover{border-color:rgba(0, 0, 0, 0.2)}.hr{line-height:18px}.hs{align-items:flex-end}.ia{padding-right:8px}.ib:hover{color:rgba(0, 0, 0, 0.9)}.ic:hover{fill:rgba(0, 0, 0, 0.9)}.id{margin-right:-6px}.ie{line-height:1.58}.if{letter-spacing:-0.004em}.ig{font-family:medium-content-serif-font, Georgia, Cambria, "Times New Roman", Times, serif}.ip{margin-bottom:-0.46em}.iq{font-style:italic}.ir{line-height:1.18}.is{letter-spacing:-0.022em}.it{font-weight:600}.je{margin-bottom:-0.31em}.jk{background-repeat:repeat-x}.jl{background-image:linear-gradient(to right,rgba(0, 0, 0, 0.84) 100%,rgba(0, 0, 0, 0.84) 0);background-image:url('data:image/svg+xml;utf8,<svg preserveAspectRatio="none" viewBox="0 0 1 1" xmlns="http://www.w3.org/2000/svg"><line x1="0" y1="0" x2="1" y2="1" stroke="rgba(0, 0, 0, 0.84)" /></svg>')}.jm{background-size:1px 1px}.jn{background-position:0 1.05em;background-position:0 calc(1em + 1px)}.jw{max-width:2628px}.kc{padding-bottom:5px}.kd{padding-top:5px}.ke{padding-bottom:22.298325722983257%}.kf{max-width:2630px}.kg{padding-bottom:53.536121673003805%}.kh{max-width:2632px}.ki{padding-bottom:24.39209726443769%}.kj{padding-bottom:8.751902587519025%}.kk{padding-bottom:54.255319148936174%}.kl{padding-bottom:12.167300380228136%}.km{padding-bottom:48.328267477203646%}.kn{padding:2px 4px}.ko{font-size:75%}.kp> strong{font-family:inherit}.kq{font-family:Menlo, Monaco, "Courier New", Courier, monospace}.kr{max-width:2626px}.ks{padding-bottom:18.583396801218584%}.kt{max-width:996px}.ku{padding-bottom:71.08433734939759%}.kv{padding-bottom:28.89733840304182%}.kw{padding-bottom:13.48057882711348%}.kx{max-width:348px}.ky{padding-bottom:100%}.kz{font-style:inherit}.la{padding-bottom:8.662613981762918%}.lb{padding-bottom:48.24961948249619%}.lc{padding-bottom:35.969581749049425%}.ld{background:none}.le{font-weight:700}.lf{padding-bottom:34.09436834094368%}.lg{padding-bottom:25.247148288973385%}.lh{padding-bottom:6.925418569254186%}.li{padding-bottom:29.88593155893536%}.lj{padding-bottom:12.024353120243532%}.lk{padding-bottom:31.12633181126332%}.ll{padding-bottom:42.16867469879518%}.lm{padding-bottom:33.99239543726236%}.ln{max-width:704px}.lo{padding-bottom:71.73295454545455%}.lp{max-width:2634px}.lq{padding-bottom:29.76461655277145%}.lr{will-change:opacity}.ls{width:188px}.lt{left:50%}.lu{transform:translateX(406px)}.lv{top:calc(65px + 54px + 14px)}.ly{top:calc(65px + 54px + 40px)}.ma{width:131px}.mb{padding-bottom:28px}.mc{border-bottom:1px solid rgba(0, 0, 0, 0.1)}.md{font-size:18px}.me{padding-bottom:20px}.mf{padding-top:2px}.mg{max-height:120px}.mh{-webkit-line-clamp:6}.mi{padding:4px 12px}.mj{padding-top:28px}.mk{margin-bottom:19px}.ml{margin-left:-5px}.mm{margin-right:5px}.mn{outline:0}.mo{border:0}.mp{user-select:none}.mq{cursor:pointer}.mr> svg{pointer-events:none}.ms:active{border-style:none}.mt{-webkit-user-select:none}.mu:focus{fill:rgba(90, 118, 144, 1)}.mv{margin-top:5px}.mw button{text-align:left}.mx{margin-top:40px}.my{flex-wrap:wrap}.mz{margin-top:25px}.na{margin-right:8px}.nb{margin-bottom:8px}.nc{border-radius:3px}.nd{padding:5px 10px}.ne{background:rgba(0, 0, 0, 0.05)}.nf{line-height:22px}.ng{margin-top:15px}.nh{margin-right:16px}.ni{border:1px solid rgba(0, 0, 0, 0.1)}.nj{height:60px}.nk{width:60px}.nx:active{border-style:solid}.ny{z-index:2}.oa{padding-top:32px}.ob{border-top:1px solid rgba(0, 0, 0, 0.1)}.oc{margin-bottom:25px}.od{margin-bottom:32px}.oe{min-height:80px}.oj{width:80px}.ok{padding-left:102px}.om{letter-spacing:0.05em}.on{margin-bottom:6px}.oo{font-size:28px}.op{line-height:36px}.oq{max-width:555px}.or{max-width:450px}.os{line-height:24px}.ot{display:none}.ov{max-width:550px}.ow{padding-top:25px}.ox{color:rgba(0, 0, 0, 0.76)}.oy{opacity:1}.oz{padding:20px}.pa{border:1px solid rgba(102, 138, 170, 1)}.pb{margin-top:64px}.pc{background-color:rgba(0, 0, 0, 0.02)}.pd{padding:60px 0}.pe{background-color:rgba(0, 0, 0, 0.9)}.pv{padding-bottom:48px}.pw{border-bottom:1px solid rgba(255, 255, 255, 0.54)}.px{margin:0 -12px}.py{margin:0 12px}.pz{flex:1 1 0}.qa{padding-bottom:12px}.qb:hover{color:rgba(255, 255, 255, 0.99)}.qc:hover{fill:rgba(255, 255, 255, 0.99)}.qd:disabled{color:rgba(255, 255, 255, 0.7)}.qe:disabled{fill:rgba(255, 255, 255, 0.7)}.qf{color:rgba(255, 255, 255, 0.98)}.qg{fill:rgba(255, 255, 255, 0.98)}.qh{text-align:inherit}.qi{font-size:21.6px}.qj{letter-spacing:-0.32px}.qk{color:rgba(255, 255, 255, 0.7)}.ql{fill:rgba(255, 255, 255, 0.7)}.qm{text-decoration:underline}.qn{padding-bottom:8px}.qo{padding-top:8px}.qp{width:200px}.qr{-webkit-user-select:none}</style><style type="text/css" data-fela-rehydration="458" data-fela-type="RULE" media="all and (min-width: 1080px)">.d{display:none}.ah{margin:0 64px}.fn{font-size:40px}.fo{margin-top:0.78em}.fu{line-height:48px}.ge{font-size:24px}.gf{margin-top:0.79em}.gl{line-height:32px}.hz{margin-left:30px}.in{font-size:21px}.io{margin-top:2em}.jc{font-size:26px}.jd{margin-top:1.72em}.jj{margin-top:0.86em}.jv{max-width:1192px}.kb{margin-top:56px}.ps{padding-left:64px}.pt{padding-right:64px}.pu{max-width:1320px}</style><style type="text/css" data-fela-rehydration="458" data-fela-type="RULE" media="all and (max-width: 1079.98px)">.e{display:none}.ey{margin-left:auto}.ez{text-align:center}.hy{margin-left:30px}.pp{padding-left:64px}.pq{padding-right:64px}.pr{max-width:1080px}</style><style type="text/css" data-fela-rehydration="458" data-fela-type="RULE" media="all and (max-width: 903.98px)">.f{display:none}.hx{margin-left:30px}.pm{padding-left:48px}.pn{padding-right:48px}.po{max-width:904px}</style><style type="text/css" data-fela-rehydration="458" data-fela-type="RULE" media="all and (max-width: 727.98px)">.g{display:none}.am{height:56px}.an{display:flex}.cb{display:block}.dk{margin-bottom:0px}.dl{height:110px}.gp{margin-top:32px}.gq{flex-direction:column-reverse}.hv{margin-bottom:30px}.hw{margin-left:0px}.of{margin-bottom:24px}.og{align-items:center}.oh{width:102px}.oi{position:relative}.ol{padding-left:0}.ou{margin-top:24px}.pf{padding:32px 0}.pj{padding-left:24px}.pk{padding-right:24px}.pl{max-width:728px}.qq{width:140px}</style><style type="text/css" data-fela-rehydration="458" data-fela-type="RULE" media="all and (max-width: 551.98px)">.h{display:none}.ac{margin:0 24px}.ff{font-size:30px}.fg{margin-top:0.72em}.fq{line-height:40px}.fw{font-size:18px}.fx{margin-top:0.79em}.gh{line-height:24px}.go{margin-top:32px}.gw{margin-bottom:0px}.ht{margin-bottom:30px}.hu{margin-left:0px}.ih{margin-top:1.56em}.iu{font-size:24px}.iv{margin-top:1.23em}.jf{margin-top:0.67em}.jo{margin:0}.jp{max-width:100%}.jx{margin-top:40px}.pg{padding-left:24px}.ph{padding-right:24px}.pi{max-width:552px}</style><style type="text/css" data-fela-rehydration="458" data-fela-type="RULE" media="all and (min-width: 904px) and (max-width: 1079.98px)">.i{display:none}.ag{margin:0 64px}.fl{font-size:40px}.fm{margin-top:0.78em}.ft{line-height:48px}.gc{font-size:24px}.gd{margin-top:0.79em}.gk{line-height:32px}.il{font-size:21px}.im{margin-top:2em}.ja{font-size:26px}.jb{margin-top:1.72em}.ji{margin-top:0.86em}.ju{max-width:1192px}.ka{margin-top:56px}</style><style type="text/css" data-fela-rehydration="458" data-fela-type="RULE" media="all and (min-width: 728px) and (max-width: 903.98px)">.j{display:none}.af{margin:0 48px}.fj{font-size:40px}.fk{margin-top:0.78em}.fs{line-height:48px}.ga{font-size:24px}.gb{margin-top:0.79em}.gj{line-height:32px}.ij{font-size:21px}.ik{margin-top:2em}.iy{font-size:26px}.iz{margin-top:1.72em}.jh{margin-top:0.86em}.js{margin:0}.jt{max-width:100%}.jz{margin-top:56px}</style><style type="text/css" data-fela-rehydration="458" data-fela-type="RULE" media="all and (min-width: 552px) and (max-width: 727.98px)">.k{display:none}.ae{margin:0 24px}.fh{font-size:30px}.fi{margin-top:0.72em}.fr{line-height:40px}.fy{font-size:18px}.fz{margin-top:0.79em}.gi{line-height:24px}.ii{margin-top:1.56em}.iw{font-size:24px}.ix{margin-top:1.23em}.jg{margin-top:0.67em}.jq{margin:0}.jr{max-width:100%}.jy{margin-top:40px}</style><style type="text/css" data-fela-rehydration="458" data-fela-type="RULE" media="print">.ab{display:none}</style><style type="text/css" data-fela-rehydration="458" data-fela-type="RULE" media="(prefers-reduced-motion: no-preference)">.y{transition:transform 300ms ease}.z{will-change:transform}.lw{transition:opacity 200ms}.nl{transition:border-color 150ms ease}.nm::before{background:
      radial-gradient(circle, rgba(90, 118, 144, 1) 60%, transparent 70%)
    }.nn::before{border-radius:50%}.no::before{content:""}.np::before{display:block}.nq::before{z-index:0}.nr::before{left:0}.ns::before{height:100%}.nt::before{position:absolute}.nu::before{top:0}.nv::before{width:100%}.nw:hover::before{animation:k1 2000ms infinite cubic-bezier(.1,.12,.25,1)}.nz{transition:fill 200ms ease}</style><style type="text/css" data-fela-rehydration="458" data-fela-type="RULE" media="all and (max-width: 1230px)">.lx{display:none}</style><style type="text/css" data-fela-rehydration="458" data-fela-type="RULE" media="all and (max-width: 1198px)">.lz{display:none}</style><script charset="utf-8" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/vendors_tracing.6badc2b7.chunk.js"></script><script charset="utf-8" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/tracing.61367508.chunk.js"></script><link rel="icon" href="https://miro.medium.com/fit/c/128/128/1*ChFMdf--f5jbm-AYv6VdYA@2x.png" data-rh="true"><script type="application/ld+json" data-rh="true">{"@context":"http:\u002F\u002Fschema.org","@type":"NewsArticle","image":["https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F1200\u002F1*h2AULwOK8hDOy7-EwtB-3Q.jpeg"],"url":"https:\u002F\u002Ftowardsdatascience.com\u002Fml-impossible-train-a-1-billion-sample-model-in-20-minutes-with-vaex-and-scikit-learn-on-your-9e2968e6f385","dateCreated":"2020-01-22T14:51:15.743Z","datePublished":"2020-01-22T14:51:15.743Z","dateModified":"2020-01-22T16:09:43.867Z","headline":"ML impossible: train a 1 billion sample model in 5 minutes with vaex and scikit-learn on your…","name":"ML impossible: train a 1 billion sample model in 5 minutes with vaex and scikit-learn on your…","description":"“Data is the new oil.” Regardless of whether or not you agree with this statement, the race for gathering and exploiting data has been going on for a while now. In fact, one thing the tech giants of…","identifier":"9e2968e6f385","keywords":["Lite:true","Tag:Data Science","Tag:Machine Learning","Tag:Scikit Learn","Tag:Vaex","Tag:Big Data","Topic:Machine Learning","Topic:Data Science","Publication:towards-data-science","Elevated:false","LockedPostSource:LOCKED_POST_SOURCE_NONE","LayerCake:3"],"author":{"@type":"Person","name":"Jovan Veljanoski","url":"https:\u002F\u002Ftowardsdatascience.com\u002F@jovan.veljanoski"},"creator":["Jovan Veljanoski"],"publisher":{"@type":"Organization","name":"Towards Data Science","url":"towardsdatascience.com","logo":{"@type":"ImageObject","width":165,"height":60,"url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F165\u002F1*mG6i4Bh_LgixUYXJgQpYsg@2x.png"}},"mainEntityOfPage":"https:\u002F\u002Ftowardsdatascience.com\u002Fml-impossible-train-a-1-billion-sample-model-in-20-minutes-with-vaex-and-scikit-learn-on-your-9e2968e6f385"}</script><script type="text/javascript" data-rh="true">(function(b,r,a,n,c,h,_,s,d,k){if(!b[n]||!b[n]._q){for(;s<_.length;)c(h,_[s++]);d=r.createElement(a);d.async=1;d.src="https://cdn.branch.io/branch-latest.min.js";k=r.getElementsByTagName(a)[0];k.parentNode.insertBefore(d,k);b[n]=h}})(window,document,"script","branch",function(b,r){b[r]=function(){b._q.push([r,arguments])}},{_q:[],_v:1},"addListener applyCode autoAppIndex banner closeBanner closeJourney creditHistory credits data deepview deepviewCta first getCode init link logout redeem referrals removeListener sendSMS setBranchViewData setIdentity track validateCode trackCommerceEvent logEvent".split(" "), 0);
branch.init('key_live_ofxXr2qTrrU9NqURK8ZwEhknBxiI6KBm', {metadata: {}, 'no_journeys': true, 'disable_exit_animation': true, 'disable_entry_animation': true, 'tracking_disabled': null}, function(err, data) {});</script></head><body data-gr-c-s-loaded="true" style=""><div id="pratikabuSTTDiv" class="pratikabusttdiv-no-print" style="bottom: 20px; right: 20px; opacity: 1; display: block;"><img id="pratikabuSTTArrowUp" style="float: right; opacity: 0.5; cursor: pointer; width: 48px; height: 48px; transform: rotate(0deg);" class="pratikabuSTTImg" src="chrome-extension://hegiignepmecppikdlbohnnbfjdoaghj/icons/pratikabu-stt-48-1.png"><div id="pratikabuSTTDiv2" class="pratikabusttdiv-no-print" style="width: 48px; margin-left: 0px;"><img id="pratikabuSTTClear" class="pratikabuSTTImg" src="chrome-extension://hegiignepmecppikdlbohnnbfjdoaghj/icons/pratikabu-stt-clear-24.png" style="opacity: 0.5; cursor: pointer;"><img id="pratikabuSTTPageUp" class="pratikabuSTTImg" src="chrome-extension://hegiignepmecppikdlbohnnbfjdoaghj/icons/pratikabu-stt-pageup-24.png" style="opacity: 0.5; cursor: pointer;"><img id="pratikabuSTTSettings" class="pratikabuSTTImg" src="chrome-extension://hegiignepmecppikdlbohnnbfjdoaghj/icons/pratikabu-stt-bottom-24.png" style="opacity: 0.5; cursor: pointer; transform: rotate(0deg);"><img id="pratikabuSTTPageDown" class="pratikabuSTTImg" src="chrome-extension://hegiignepmecppikdlbohnnbfjdoaghj/icons/pratikabu-stt-pageup-24.png" style="opacity: 0.5; cursor: pointer; transform: rotate(180deg);"></div></div><div id="root"><div class="a b c"><div class="d e f g h i j k"></div><script>document.domain = document.domain;</script><script>window.PARSELY = window.PARSELY || {autotrack: false}</script><nav class="r s t u v c w x y z ab" style="transform: translateY(-100%);"><div class="branch-journeys-top"><div class="r c"><div class="n p"><div class="ac ae af ag ah ai aj ak"><div class="al n o am an"><div class="n o ao w"><a href="https://medium.com/?source=post_page-----9e2968e6f385----------------------" aria-label="Homepage" rel="noopener"><svg width="35" height="35" viewBox="5 5 35 35" class="q"><path d="M5 40V5h35v35H5zm8.56-12.63c0 .56-.03.69-.32 1.03L10.8 31.4v.4h6.97v-.4L15.3 28.4c-.29-.34-.34-.5-.34-1.03v-8.95l6.13 13.36h.71l5.26-13.36v10.64c0 .3 0 .35-.19.53l-1.85 1.8v.4h9.2v-.4l-1.83-1.8c-.18-.18-.2-.24-.2-.53V15.94c0-.3.02-.35.2-.53l1.82-1.8v-.4h-6.47l-4.62 11.55-5.2-11.54h-6.8v.4l2.15 2.63c.24.3.29.37.29.77v10.35z"></path></svg></a></div><div class="r ap w"><div class="n o"><div class="n g"><div class="es" id="lo-post-page-navbar-sign-in-link"><div class="ar r"><span class="as b at au av aw r ax ay"><a href="https://medium.com/m/signin?operation=login&amp;redirect=https%3A%2F%2Ftowardsdatascience.com%2Fml-impossible-train-a-1-billion-sample-model-in-20-minutes-with-vaex-and-scikit-learn-on-your-9e2968e6f385&amp;source=post_page-----9e2968e6f385---------------------nav_reg-" class="az ba bb bc bd be bf bg bh bi bj bk bl bm bn bo" rel="noopener">Sign in</a></span></div></div></div><div class="es" id="lo-post-page-navbar-get-started-button"><div class="ar r"><a href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Ftowardsdatascience.com%2Fml-impossible-train-a-1-billion-sample-model-in-20-minutes-with-vaex-and-scikit-learn-on-your-9e2968e6f385&amp;source=post_page-----9e2968e6f385---------------------nav_reg-" class="bp bq az ba br bj bk bs bi bt as b at au av aw bu bv bw bx by bl" rel="noopener">Get started</a></div></div></div></div></div></div></div></div><div class="bz r ca cb"><div class="n p"><div class="ac ae af ag ah ai aj ak"><div class="cc cd n o"><div class="ce r ap"><a href="https://towardsdatascience.com/?source=post_page-----9e2968e6f385----------------------" rel="noopener"><div class="cf cg r"><img alt="Towards Data Science" class="" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/1_mG6i4Bh_LgixUYXJgQpYsg@2x.png" width="100" height="36"></div></a></div><div class="ch r ci"><ul class="cj bh ck cl cm n cn g co cp cq"><li class="n o cr cs ct cu"><span class="as cx cy au cz da db"><a href="https://towardsdatascience.com/data-science/home?source=post_page-----9e2968e6f385----------------------" class="dc dd bb bc bd be bf bg bh bi de df bl bm dg dh" rel="noopener">Data Science</a></span></li><li class="n o cr cs ct cu"><span class="as cx cy au cz da db"><a href="https://towardsdatascience.com/machine-learning/home?source=post_page-----9e2968e6f385----------------------" class="dc dd bb bc bd be bf bg bh bi de df bl bm dg dh" rel="noopener">Machine Learning</a></span></li><li class="n o cr cs ct cu"><span class="as cx cy au cz da db"><a href="https://towardsdatascience.com/programming/home?source=post_page-----9e2968e6f385----------------------" class="dc dd bb bc bd be bf bg bh bi de df bl bm dg dh" rel="noopener">Programming</a></span></li><li class="n o cr cs ct cu"><span class="as cx cy au cz da db"><a href="https://towardsdatascience.com/data-visualization/home?source=post_page-----9e2968e6f385----------------------" class="dc dd bb bc bd be bf bg bh bi de df bl bm dg dh" rel="noopener">Visualization</a></span></li><li class="n o cr cs ct cu"><span class="as cx cy au cz da db"><a href="https://towardsdatascience.com/artificial-intelligence/home?source=post_page-----9e2968e6f385----------------------" class="dc dd bb bc bd be bf bg bh bi de df bl bm dg dh" rel="noopener">AI</a></span></li><li class="n o cr cs ct cu"><span class="as cx cy au cz da db"><a href="https://towardsdatascience.com/our-picks/home?source=post_page-----9e2968e6f385----------------------" class="dc dd bb bc bd be bf bg bh bi de df bl bm dg dh" rel="noopener">Picks</a></span></li><li class="n o cr cs ct cu"><span class="as cx cy au cz da db"><a href="https://towardsdatascience.com/more/home?source=post_page-----9e2968e6f385----------------------" class="dc dd bb bc bd be bf bg bh bi de df bl bm dg dh" rel="noopener">More</a></span></li><span class="cr cv cw"></span><li class="n o cr cs ct cu"><span class="as cx cy au cz da db"><a href="https://towardsdatascience.com/contribute/home?source=post_page-----9e2968e6f385----------------------" class="dc dd bb bc bd be bf bg bh bi de df bl bm dg dh" rel="noopener">Contribute</a></span></li></ul></div></div></div></div></div></div></nav><div class="di dj r dk dl"></div><article><section class="dm dn do dp ak dq bw n dr"></section><span class="r"></span><div><div class="ds u dt du dv dw"></div><section class="dx dy dz ea eb"><div class="ec ak"><figure class="ed ec ak paragraph-image"><div class="ee ef eg eh ak"><div class="en r eg eo"><div class="ep r"><div class="ei ej ds t u ek ak cd el em"><img class="ds t u ek ak eq er aq qt" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/1_h2AULwOK8hDOy7-EwtB-3Q.jpeg" width="2560" height="1536" role="presentation"></div><img class="oy qs ds t u ek ak et" width="2560" height="1536" role="presentation" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/1_h2AULwOK8hDOy7-EwtB-3Q(1).jpeg"><noscript><img class="ds t u ek ak" src="https://miro.medium.com/max/5120/1*h2AULwOK8hDOy7-EwtB-3Q.jpeg" width="2560" height="1536" role="presentation"/></noscript></div></div></div><figcaption class="ax eu ev ew ex dq do dp ey ez as cx" data-selectable-paragraph="">Tom Cruise trying to do machine learning without Vaex. (Copyright: Paramount Pictures)</figcaption></figure></div><div class="n p"><div class="ac ae af ag ah fa aj ak"><div><div id="14a3" class="fb fc fd at fe b ff fg fh fi fj fk fl fm fn fo fp"><h1 class="fe b ff fq fh fr fj fs fl ft fn fu fd">ML impossible: Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn</h1></div></div><div id="a213" class="fv fc ax at as cx fw fx fy fz ga gb gc gd ge gf gg"><h2 class="as cx fw gh fy gi ga gj gc gk ge gl ax">Make your laptop feel like a supercomputer.</h2></div><div class="gm"><div class="n gn go gp gq"><div class="o n"><div><a href="https://towardsdatascience.com/@jovan.veljanoski?source=post_page-----9e2968e6f385----------------------" rel="noopener"><img alt="Jovan Veljanoski" class="r gr gs gt" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/2_gTwAq1SkQ3mii7TYg4w_1w.jpeg" width="48" height="48"></a></div><div class="gu ak r"><div class="n"><div style="flex:1"><span class="as b at au av aw r fd q"><div class="gv n o gw"><span class="as cx eu au cd gx gy gz ha hb fd"><a href="https://towardsdatascience.com/@jovan.veljanoski?source=post_page-----9e2968e6f385----------------------" class="dc dd bb bc bd be bf bg bh bi hc bl bm hd he" rel="noopener">Jovan Veljanoski</a></span><div class="hf r ap h"><a href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Ftowardsdatascience.com%2Fml-impossible-train-a-1-billion-sample-model-in-20-minutes-with-vaex-and-scikit-learn-on-your-9e2968e6f385&amp;source=-3bd573100d67-------------------------follow_byline-" class="hg fd q bq hh hi hj hk bi hd hl hm hn ho hp hq bt as b at hr cy aw bu bv bw bx by bl" rel="noopener">Follow</a></div></div></span></div></div><span class="as b at au av aw r ax ay"><span class="as cx eu au cd gx gy gz ha hb ax"><div><a class="dc dd bb bc bd be bf bg bh bi hc bl bm hd he" rel="noopener" href="https://towardsdatascience.com/ml-impossible-train-a-1-billion-sample-model-in-20-minutes-with-vaex-and-scikit-learn-on-your-9e2968e6f385?source=post_page-----9e2968e6f385----------------------">Jan 22</a> <!-- -->·<!-- --> <!-- -->15<!-- --> min read</div></span></span></div></div><div class="n hs ht hu hv hw hx hy hz ab"><div class="n o"><div class="ia r ap"><a href="https://medium.com/p/9e2968e6f385/share/twitter?source=post_actions_header---------------------------" class="dc dd bb bc bd be bf bg bh bi ib ic bl bm hd he" target="_blank" rel="noopener nofollow"><svg width="29" height="29" class="q"><path d="M22.05 7.54a4.47 4.47 0 0 0-3.3-1.46 4.53 4.53 0 0 0-4.53 4.53c0 .35.04.7.08 1.05A12.9 12.9 0 0 1 5 6.89a5.1 5.1 0 0 0-.65 2.26c.03 1.6.83 2.99 2.02 3.79a4.3 4.3 0 0 1-2.02-.57v.08a4.55 4.55 0 0 0 3.63 4.44c-.4.08-.8.13-1.21.16l-.81-.08a4.54 4.54 0 0 0 4.2 3.15 9.56 9.56 0 0 1-5.66 1.94l-1.05-.08c2 1.27 4.38 2.02 6.94 2.02 8.3 0 12.86-6.9 12.84-12.85.02-.24 0-.43 0-.65a8.68 8.68 0 0 0 2.26-2.34c-.82.38-1.7.62-2.6.72a4.37 4.37 0 0 0 1.95-2.51c-.84.53-1.81.9-2.83 1.13z"></path></svg></a></div><div class="ia r ap"><a href="https://medium.com/p/9e2968e6f385/share/facebook?source=post_actions_header---------------------------" class="dc dd bb bc bd be bf bg bh bi ib ic bl bm hd he" target="_blank" rel="noopener nofollow"><svg width="29" height="29" class="q"><path d="M23.2 5H5.8a.8.8 0 0 0-.8.8V23.2c0 .44.35.8.8.8h9.3v-7.13h-2.38V13.9h2.38v-2.38c0-2.45 1.55-3.66 3.74-3.66 1.05 0 1.95.08 2.2.11v2.57h-1.5c-1.2 0-1.48.57-1.48 1.4v1.96h2.97l-.6 2.97h-2.37l.05 7.12h5.1a.8.8 0 0 0 .79-.8V5.8a.8.8 0 0 0-.8-.79"></path></svg></a></div><div class="id r ao"><a href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Ftowardsdatascience.com%2Fml-impossible-train-a-1-billion-sample-model-in-20-minutes-with-vaex-and-scikit-learn-on-your-9e2968e6f385&amp;source=post_actions_header--------------------------bookmark_sidebar-" class="dc dd bb bc bd be bf bg bh bi ib ic bl bm hd he" rel="noopener"><svg width="25" height="25" viewBox="0 0 25 25"><path d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z" fill-rule="evenodd"></path></svg></a></div></div></div></div></div><p id="0c20" class="ie if fd at ig b fw ih fy ii ij ik il im in io ip dx" data-selectable-paragraph="">“Data is the new oil.” Regardless of whether or not you agree with this statement, the race for gathering and exploiting data has been going on for a while now. In fact, one thing the tech giants of today have in common, is their capacity to fully exploit the enormous quantity of data they gather. They have the knowledge, manpower, and resources to analyse billions of data points, train and deploy a variety of machine learning models at scale, which then impacts countless people across our planet.</p><p id="696d" class="ie if fd at ig b fw ih fy ii ij ik il im in io ip dx" data-selectable-paragraph="">Creating even a simple machine learning service is a non-trivial task. Even if we ignore the data gathering and augmentation steps, one still needs to understand the data, clean it appropriately, create meaningful features, and then train and tune a model. This is followed by a series of validation steps which hopefully lead to a better understanding of both the data and the model. The process is repeated until the model satisfies the business goals, after which it is put in production. In practice, however, the process may continue indefinitely.</p><p id="21ed" class="ie if fd at ig b fw ih fy ii ij ik il im in io ip dx" data-selectable-paragraph="">Imagine that we have a dataset containing over <em class="iq">1 billion</em> samples, which we need to use for training of a machine learning model. Due to the sheer amount alone, exploring such dataset already becomes tricky, while iterating on the cleaning, pre-processing and training steps becomes a daunting task. Challenges such as these are commonly tackled with distributed or cloud computing. While this is the standard approach today, it can be quite costly, time-consuming, and simply less convenient compared to working on your local machine.</p><p id="d79a" class="ie if fd at ig b fw ih fy ii ij ik il im in io ip dx" data-selectable-paragraph="">In this article, I will demonstrate how anyone can train a machine learning model on a billion samples in a swift and efficient manner. Your laptop is all the infrastructure you need. Just make sure it is plugged in.</p><h2 id="f95b" class="ir is fd at as it iu iv iw ix iy iz ja jb jc jd je" data-selectable-paragraph="">The problem: predict taxi trip duration</h2><p id="a851" class="ie if fd at ig b fw jf fy jg ij jh il ji in jj ip dx" data-selectable-paragraph="">As an example, assume we would like to help a taxi company predict how long a trip may take in New York City. We will use the New York City Taxi dataset, which contains information on over <em class="iq">1 billion</em> taxi trips conducted between 2009 and 2015 by the recognizable Yellow Taxis. In its raw form, the data is provided by the New York City Taxi &amp; Limousine Commission (TLC), and can be <a href="https://www1.nyc.gov/site/tlc/about/tlc-trip-record-data.page" class="dc by jk jl jm jn" target="_blank" rel="noopener nofollow">downloaded from their website</a>. <em class="iq">If you are simply interested in the Jupyter notebook used as the basis for this article, you can </em><a href="https://nbviewer.jupyter.org/github/vaexio/vaex-examples/blob/master/medium-nyc-taxi-data-ml/vaex-taxi-ml-article.ipynb" class="dc by jk jl jm jn" target="_blank" rel="noopener nofollow"><em class="iq">click here</em></a><em class="iq">.</em></p><h2 id="82c7" class="ir is fd at as it iu iv iw ix iy iz ja jb jc jd je" data-selectable-paragraph="">Data preparation with Vaex</h2><p id="1609" class="ie if fd at ig b fw jf fy jg ij jh il ji in jj ip dx" data-selectable-paragraph="">In order to manipulate the large amount of data, we will use <a href="https://github.com/vaexio/vaex" class="dc by jk jl jm jn" target="_blank" rel="noopener nofollow">Vaex</a>, a Python <a class="dc by jk jl jm jn" target="_blank" rel="noopener" href="https://towardsdatascience.com/vaex-out-of-core-dataframes-for-python-and-fast-visualization-12c102db044a">open-source DataFrame library</a>. Leveraging concepts like memory mapping, lazy evaluations and efficient out-of-core algorithms, Vaex can easily handle datasets that would otherwise be too large to fit in RAM.</p><p id="5433" class="ie if fd at ig b fw ih fy ii ij ik il im in io ip dx" data-selectable-paragraph="">Let’s get started by opening the data. For convenience, I’ve combined the 7 year of taxi data into a single <a href="https://en.wikipedia.org/wiki/Hierarchical_Data_Format#HDF5" class="dc by jk jl jm jn" target="_blank" rel="noopener nofollow">HDF5</a> file. Even though the file is larger than 100GB on disk, opening it with Vaex is instantaneous:</p></div></div><div class="ec"><div class="n p"><div class="jo jp jq jr js jt ag ju ah jv aj ak"><figure class="jx jy jz ka kb ec kc kd paragraph-image"><div class="ee ef eg eh ak"><div class="do dp jw"><div class="en r eg eo"><div class="ke r"><div class="ei ej ds t u ek ak cd el em"><img class="ds t u ek ak eq er aq qt" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/1_bGfi8RWKpGoQdqgoVGmpOg.png" width="2628" height="586" role="presentation"></div><img class="oy qs ds t u ek ak et" width="2628" height="586" role="presentation" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/1_bGfi8RWKpGoQdqgoVGmpOg(1).png"><noscript><img class="ds t u ek ak" src="https://miro.medium.com/max/5256/1*bGfi8RWKpGoQdqgoVGmpOg.png" width="2628" height="586" role="presentation"/></noscript></div></div></div></div><figcaption class="ax eu ev ew ex dq do dp ey ez as cx" data-selectable-paragraph="">Opening an memory-mapped file is instant (119 ms!) with <a href="https://github.com/vaexio/vaex" class="dc by jk jl jm jn" target="_blank" rel="noopener nofollow">Vaex</a>. If you don’t have it locally, you can lazily stream it from AWS.</figcaption></figure></div></div></div><div class="n p"><div class="ac ae af ag ah fa aj ak"><p id="1d48" class="ie if fd at ig b fw ih fy ii ij ik il im in io ip dx" data-selectable-paragraph="">Inspecting the data is just as fast. Since the data is memory-mapped, Vaex knows immediately where to look, reading only the portions that are needed. For a simple preview as shown below, only the first and last 5 rows are read from disk.</p></div></div><div class="ec"><div class="n p"><div class="jo jp jq jr js jt ag ju ah jv aj ak"><figure class="jx jy jz ka kb ec kc kd paragraph-image"><div class="ee ef eg eh ak"><div class="do dp kf"><div class="en r eg eo"><div class="kg r"><div class="ei ej ds t u ek ak cd el em"><img class="ds t u ek ak eq er aq qt" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/1_nO98lAWSriM6Gk8NYKzG7A.png" width="2630" height="1408" role="presentation"></div><img class="oy qs ds t u ek ak et" width="2630" height="1408" role="presentation" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/1_nO98lAWSriM6Gk8NYKzG7A(1).png"><noscript><img class="ds t u ek ak" src="https://miro.medium.com/max/5260/1*nO98lAWSriM6Gk8NYKzG7A.png" width="2630" height="1408" role="presentation"/></noscript></div></div></div></div><figcaption class="ax eu ev ew ex dq do dp ey ez as cx" data-selectable-paragraph="">A preview of the Taxi Dataset. Only the first and last 5 rows are actually read from disk.</figcaption></figure></div></div></div><div class="n p"><div class="ac ae af ag ah fa aj ak"><p id="65bc" class="ie if fd at ig b fw ih fy ii ij ik il im in io ip dx" data-selectable-paragraph="">Working with the New York Taxi dataset is rather straightforward with Vaex, despite being over 100GB on disk and containing more than 1.1 billion records. <a class="dc by jk jl jm jn" target="_blank" rel="noopener" href="https://towardsdatascience.com/how-to-analyse-100s-of-gbs-of-data-on-your-laptop-with-python-f83363dda94">This article</a> goes over the Vaex fundamentals, and presents an exploratory data analysis of this very same dataset.</p><p id="e426" class="ie if fd at ig b fw ih fy ii ij ik il im in io ip dx" data-selectable-paragraph="">Before we get started, let us split the data into a train and a test set. We will make the split by year, such that the trips conducted in 2015 will comprise the test set, and all prior to that will make up the training set. The dataset is ordered by year, so we can do the splitting by simply slicing the DataFrame.</p></div></div><div class="ec"><div class="n p"><div class="jo jp jq jr js jt ag ju ah jv aj ak"><figure class="jx jy jz ka kb ec kc kd paragraph-image"><div class="ee ef eg eh ak"><div class="do dp kh"><div class="en r eg eo"><div class="ki r"><div class="ei ej ds t u ek ak cd el em"><img class="ds t u ek ak eq er aq qt" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/1_BBnx__c14HtMXeZYWV2NuA.png" width="2632" height="642" role="presentation"></div><img class="oy qs ds t u ek ak et" width="2632" height="642" role="presentation" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/1_BBnx__c14HtMXeZYWV2NuA(1).png"><noscript><img class="ds t u ek ak" src="https://miro.medium.com/max/5264/1*BBnx__c14HtMXeZYWV2NuA.png" width="2632" height="642" role="presentation"/></noscript></div></div></div></div><figcaption class="ax eu ev ew ex dq do dp ey ez as cx" data-selectable-paragraph="">Create train and test sets. Slicing of a Vaex DataFrame does not copy the data, but only creates a reference.</figcaption></figure></div></div></div><div class="n p"><div class="ac ae af ag ah fa aj ak"><p id="b386" class="ie if fd at ig b fw ih fy ii ij ik il im in io ip dx" data-selectable-paragraph="">Note that no memory copies of the data are made by executing the above code cell. Slicing a Vaex DataFrame results in a shallow copy, which only references the appropriate portions of the original data.</p><h2 id="bc44" class="ir is fd at as it iu iv iw ix iy iz ja jb jc jd je" data-selectable-paragraph="">Data wrangling</h2><p id="5f35" class="ie if fd at ig b fw jf fy jg ij jh il ji in jj ip dx" data-selectable-paragraph="">The goal of this exercise is to predict the likely duration of a taxi trip. The duration of a trip is not readily available in the dataset, but it is trivial to calculate from the pick-up and drop-off time-stamps.</p></div></div><div class="ec"><div class="n p"><div class="jo jp jq jr js jt ag ju ah jv aj ak"><figure class="jx jy jz ka kb ec kc kd paragraph-image"><div class="ee ef eg eh ak"><div class="do dp jw"><div class="en r eg eo"><div class="kj r"><div class="ei ej ds t u ek ak cd el em"><img class="ds t u ek ak eq er aq qt" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/1_D1551hYcgzIZtUjGB3M3tg.png" width="2628" height="230" role="presentation"></div><img class="oy qs ds t u ek ak et" width="2628" height="230" role="presentation" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/1_D1551hYcgzIZtUjGB3M3tg(1).png"><noscript><img class="ds t u ek ak" src="https://miro.medium.com/max/5256/1*D1551hYcgzIZtUjGB3M3tg.png" width="2628" height="230" role="presentation"/></noscript></div></div></div></div><figcaption class="ax eu ev ew ex dq do dp ey ez as cx" data-selectable-paragraph="">Creating a new column out of existing columns costs no extra memory, and is instant.</figcaption></figure></div></div></div><div class="n p"><div class="ac ae af ag ah fa aj ak"><p id="ac42" class="ie if fd at ig b fw ih fy ii ij ik il im in io ip dx" data-selectable-paragraph="">Calculating the trip distance in the code example above results in a virtual column. Creating such columns cost no memory, since they store just the expression that defines them, and are evaluated only when necessary.</p><p id="b7dc" class="ie if fd at ig b fw ih fy ii ij ik il im in io ip dx" data-selectable-paragraph="">Now, let’s filter out outliers and erroneous data samples from the training set. The exploratory data analysis presented in <a class="dc by jk jl jm jn" target="_blank" rel="noopener" href="https://towardsdatascience.com/how-to-analyse-100s-of-gbs-of-data-on-your-laptop-with-python-f83363dda94">this article</a> can serve as a guide on how to do this, so please check it out of if you would like to know the rationale behind these filtering choices.</p></div></div><div class="ec"><div class="n p"><div class="jo jp jq jr js jt ag ju ah jv aj ak"><figure class="jx jy jz ka kb ec kc kd paragraph-image"><div class="ee ef eg eh ak"><div class="do dp kh"><div class="en r eg eo"><div class="kk r"><div class="ei ej ds t u ek ak cd el em"><img class="ds t u ek ak eq er aq qt" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/1_MK6hv9CaCnFdVsiZT0yRZg.png" width="2632" height="1428" role="presentation"></div><img class="oy qs ds t u ek ak et" width="2632" height="1428" role="presentation" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/1_MK6hv9CaCnFdVsiZT0yRZg(1).png"><noscript><img class="ds t u ek ak" src="https://miro.medium.com/max/5264/1*MK6hv9CaCnFdVsiZT0yRZg.png" width="2632" height="1428" role="presentation"/></noscript></div></div></div></div><figcaption class="ax eu ev ew ex dq do dp ey ez as cx" data-selectable-paragraph="">Filtering out a Vaex DataFrame takes seconds and costs no extra memory, even when it numbers billion rows.</figcaption></figure></div></div></div><div class="n p"><div class="ac ae af ag ah fa aj ak"><p id="4bb1" class="ie if fd at ig b fw ih fy ii ij ik il im in io ip dx" data-selectable-paragraph="">The main idea behind the filtering is to remove outliers and possible erroneous data inputs, so the model is not too “distracted” by the few abnormal samples. After all the filters are applied, the training set comprises “only” 812,816,595 taxi trips.</p><p id="4a5e" class="ie if fd at ig b fw ih fy ii ij ik il im in io ip dx" data-selectable-paragraph="">At this stage we can start to engineer some meaningful features. Since all of the features we will be virtual columns, we do not need to concern ourselves with memory usage, and thus have the freedom to experiment and get creative. Let’s begin by extracting few features from the pick-up timestamps.</p></div></div><div class="ec"><div class="n p"><div class="jo jp jq jr js jt ag ju ah jv aj ak"><figure class="jx jy jz ka kb ec kc kd paragraph-image"><div class="ee ef eg eh ak"><div class="do dp kf"><div class="en r eg eo"><div class="kl r"><div class="ei ej ds t u ek ak cd el em"><img class="ds t u ek ak eq er aq qt" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/1_7ILj2qmF32L4oGll2bJYZg.png" width="2630" height="320" role="presentation"></div><img class="oy qs ds t u ek ak et" width="2630" height="320" role="presentation" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/1_7ILj2qmF32L4oGll2bJYZg(1).png"><noscript><img class="ds t u ek ak" src="https://miro.medium.com/max/5260/1*7ILj2qmF32L4oGll2bJYZg.png" width="2630" height="320" role="presentation"/></noscript></div></div></div></div><figcaption class="ax eu ev ew ex dq do dp ey ez as cx" data-selectable-paragraph="">Extracting some useful features from the pick-up date and time.</figcaption></figure></div></div></div><div class="n p"><div class="ac ae af ag ah fa aj ak"><p id="6802" class="ie if fd at ig b fw ih fy ii ij ik il im in io ip dx" data-selectable-paragraph="">Now, let us create a couple of more computationally demanding features. One of them is the distance between the pick-up and drop-off points, which we will call the “arc distance”. The second feature is the direction angle of the taxi trip, i.e. an indication of whether the taxi is travelling for example due north or north-west from its origin towards its destination.</p></div></div><div class="ec"><div class="n p"><div class="jo jp jq jr js jt ag ju ah jv aj ak"><figure class="jx jy jz ka kb ec kc kd paragraph-image"><div class="ee ef eg eh ak"><div class="do dp kh"><div class="en r eg eo"><div class="km r"><div class="ei ej ds t u ek ak cd el em"><img class="ds t u ek ak eq er aq qt" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/1_QDMEER-cXJQRYicoxh1wZw.png" width="2632" height="1272" role="presentation"></div><img class="oy qs ds t u ek ak et" width="2632" height="1272" role="presentation" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/1_QDMEER-cXJQRYicoxh1wZw(1).png"><noscript><img class="ds t u ek ak" src="https://miro.medium.com/max/5264/1*QDMEER-cXJQRYicoxh1wZw.png" width="2632" height="1272" role="presentation"/></noscript></div></div></div></div><figcaption class="ax eu ev ew ex dq do dp ey ez as cx" data-selectable-paragraph="">The evaluation of computationally demanding expressions can be sped up by Just-In-Time compilation via <a href="http://numba.pydata.org/" class="dc by jk jl jm jn" target="_blank" rel="noopener nofollow">Numba</a> or <a href="https://developer.nvidia.com/cuda-zone" class="dc by jk jl jm jn" target="_blank" rel="noopener nofollow">CUDA</a>.</figcaption></figure></div></div></div><div class="n p"><div class="ac ae af ag ah fa aj ak"><p id="510b" class="ie if fd at ig b fw ih fy ii ij ik il im in io ip dx" data-selectable-paragraph="">Notice the <code class="eo kn ko kp kq b">.jit_numba</code> method at the end of the function call. The evaluation of computationally expensive expressions like those defined above can be accelerated by Just-In-Time compilation via <a href="http://numba.pydata.org/" class="dc by jk jl jm jn" target="_blank" rel="noopener nofollow">Numba</a>. If your machine sports a more recent NVIDIA graphics card, you can use <a href="https://developer.nvidia.com/cuda-zone" class="dc by jk jl jm jn" target="_blank" rel="noopener nofollow">CUDA</a> by invoking the <code class="eo kn ko kp kq b">.jit_cuda</code> method for an extra boost. By using <code class="eo kn ko kp kq b">.jit_numba</code> on some expressions and <code class="eo kn ko kp kq b">.jit_cuda</code> on others, you can simultaneously leverage both your CPU and GPU for maximum performance.</p><h2 id="a1d6" class="ir is fd at as it iu iv iw ix iy iz ja jb jc jd je" data-selectable-paragraph="">Data transformation (vaex.ml)</h2><p id="9ec0" class="ie if fd at ig b fw jf fy jg ij jh il ji in jj ip dx" data-selectable-paragraph="">Before we pass the data to any model, we need to make sure it is suitably transformed in order to get the most out of it. Vaex contains the <code class="eo kn ko kp kq b">vaex.ml</code> package which implements a variety of common data transformations, such as PCA, categorical encoders, and numerical scalers. All transformations are invoked with the familiar <a href="https://scikit-learn.org/stable/" class="dc by jk jl jm jn" target="_blank" rel="noopener nofollow">scikit-learn</a> API, are parallelised and executed out-of-core.</p><p id="4700" class="ie if fd at ig b fw ih fy ii ij ik il im in io ip dx" data-selectable-paragraph="">Let’s focus on the pick-up and drop-off locations. In many cities in the United States the streets form a grid pattern. This is clearly visible in the Manhattan area. One idea to improve the performance of a model is to apply a set of <a href="https://en.wikipedia.org/wiki/Principal_component_analysis" class="dc by jk jl jm jn" target="_blank" rel="noopener nofollow">PCA</a> transformations on the pick-up and drop-off locations. This will cause the streets, traced by the many pick-up and drop-off points, to align with the natural geographical axes (longitude and latitude) instead of being at an angle to them.</p></div></div><div class="ec"><div class="n p"><div class="jo jp jq jr js jt ag ju ah jv aj ak"><figure class="jx jy jz ka kb ec kc kd paragraph-image"><div class="ee ef eg eh ak"><div class="do dp kr"><div class="en r eg eo"><div class="ks r"><div class="ei ej ds t u ek ak cd el em"><img class="ds t u ek ak eq er aq qt" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/1_L0A-h4rvgqF6POeTYL7vzQ.png" width="2626" height="488" role="presentation"></div><img class="oy qs ds t u ek ak et" width="2626" height="488" role="presentation" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/1_L0A-h4rvgqF6POeTYL7vzQ(1).png"><noscript><img class="ds t u ek ak" src="https://miro.medium.com/max/5252/1*L0A-h4rvgqF6POeTYL7vzQ.png" width="2626" height="488" role="presentation"/></noscript></div></div></div></div><figcaption class="ax eu ev ew ex dq do dp ey ez as cx" data-selectable-paragraph="">Fitting a couple of PCA transformers on nearly billion samples takes about half a minute with vaex.ml.</figcaption></figure></div></div></div><div class="n p"><div class="ac ae af ag ah fa aj ak"><p id="26bc" class="ie if fd at ig b fw ih fy ii ij ik il im in io ip dx" data-selectable-paragraph="">Notice that when using <code class="eo kn ko kp kq b">vaex.ml</code> one passes the whole DataFrame to the <code class="eo kn ko kp kq b">.fit</code>, <code class="eo kn ko kp kq b">.transform</code>, or <code class="eo kn ko kp kq b">.fit_transform</code> methods of a transformer, while the features on which the transformation is applied are specified while that transformer is instantiated. Most importantly, the <code class="eo kn ko kp kq b">.transform</code> method returns a shallow copy of the DataFrame in which the result of the transformation is stored in the form of virtual columns. This makes it easy for us to visualise the results of the PCA transformations.</p><figure class="jx jy jz ka kb ec do dp paragraph-image"><div class="ee ef eg eh ak"><div class="do dp kt"><div class="en r eg eo"><div class="ku r"><div class="ei ej ds t u ek ak cd el em"><img class="ds t u ek ak eq er aq qt" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/1_6OgLY2B8we_tAxgyXYrHsw.png" width="996" height="708" role="presentation"></div><img class="oy qs ds t u ek ak et" width="996" height="708" role="presentation" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/1_6OgLY2B8we_tAxgyXYrHsw(1).png"><noscript><img class="ds t u ek ak" src="https://miro.medium.com/max/1992/1*6OgLY2B8we_tAxgyXYrHsw.png" width="996" height="708" role="presentation"/></noscript></div></div></div></div><figcaption class="ax eu ev ew ex dq do dp ey ez as cx" data-selectable-paragraph="">Comparing the original to the PCA-transformed pick-up and drop-off locations.</figcaption></figure><p id="8104" class="ie if fd at ig b fw ih fy ii ij ik il im in io ip dx" data-selectable-paragraph="">Let us shift our focus on the “pickup_time”, “pickup_day” , and “pickup_month” features we defined earlier. The key property of these features is that they are cyclical in nature, i.e. January is as close to February as it is close to December. Thus we will use the <code class="eo kn ko kp kq b">CycleTransformer</code> implemented in <code class="eo kn ko kp kq b">vaex.ml</code> which essentially treats each feature as the angle φ in a unit circle in polar coordinates (ρ=1, φ). The, transformer than computes the <em class="iq">𝑥 </em>and<em class="iq"> 𝑦</em> projection of the radius ρ, thus getting two new components per feature. This trick perfectly preserves the relative distance between different values, since it is simply a coordinate transformation. You can read more about this approach in <a href="http://blog.davidkaleko.com/feature-engineering-cyclical-features.html" class="dc by jk jl jm jn" target="_blank" rel="noopener nofollow">this post</a>.</p></div></div><div class="ec"><div class="n p"><div class="jo jp jq jr js jt ag ju ah jv aj ak"><figure class="jx jy jz ka kb ec kc kd paragraph-image"><div class="ee ef eg eh ak"><div class="do dp kf"><div class="en r eg eo"><div class="kv r"><div class="ei ej ds t u ek ak cd el em"><img class="ds t u ek ak eq er aq qt" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/1_mBB2e7HQk-4YpYSvd0Kk9A.png" width="2630" height="760" role="presentation"></div><img class="oy qs ds t u ek ak et" width="2630" height="760" role="presentation" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/1_mBB2e7HQk-4YpYSvd0Kk9A(1).png"><noscript><img class="ds t u ek ak" src="https://miro.medium.com/max/5260/1*mBB2e7HQk-4YpYSvd0Kk9A.png" width="2630" height="760" role="presentation"/></noscript></div></div></div></div><figcaption class="ax eu ev ew ex dq do dp ey ez as cx" data-selectable-paragraph="">Encoding the cyclical features with vaex.ml.CycleTransformer perfectly preserves the relative distance between different values.</figcaption></figure></div></div></div><div class="n p"><div class="ac ae af ag ah fa aj ak"><p id="f37c" class="ie if fd at ig b fw ih fy ii ij ik il im in io ip dx" data-selectable-paragraph="">We apply the same trick to the direction angle, since it is a cyclical feature as well. Let’s plot the features derived from the “pickup_time” column<em class="iq">, </em>as to convince ourselves that the transformations make sense.</p></div></div><div class="ec"><div class="n p"><div class="jo jp jq jr js jt ag ju ah jv aj ak"><figure class="jx jy jz ka kb ec kc kd paragraph-image"><div class="ee ef eg eh ak"><div class="do dp kr"><div class="en r eg eo"><div class="kw r"><div class="ei ej ds t u ek ak cd el em"><img class="ds t u ek ak eq er aq qt" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/1_W_f0FavuG6EhLBnf3QBzPA.png" width="2626" height="354" role="presentation"></div><img class="oy qs ds t u ek ak et" width="2626" height="354" role="presentation" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/1_W_f0FavuG6EhLBnf3QBzPA(1).png"><noscript><img class="ds t u ek ak" src="https://miro.medium.com/max/5252/1*W_f0FavuG6EhLBnf3QBzPA.png" width="2626" height="354" role="presentation"/></noscript></div></div></div></div></figure></div></div></div><div class="n p"><div class="ac ae af ag ah fa aj ak"><figure class="jx jy jz ka kb ec do dp paragraph-image"><div class="do dp kx"><div class="en r eg eo"><div class="ky r"><div class="ei ej ds t u ek ak cd el em"><img class="ds t u ek ak eq er aq qt" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/1_npNcnQFAYkWPzQ0eN-DJmQ.png" width="348" height="348" role="presentation"></div><img class="oy qs ds t u ek ak et" width="348" height="348" role="presentation" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/1_npNcnQFAYkWPzQ0eN-DJmQ(1).png"><noscript><img class="ds t u ek ak" src="https://miro.medium.com/max/696/1*npNcnQFAYkWPzQ0eN-DJmQ.png" width="348" height="348" role="presentation"/></noscript></div></div></div><figcaption class="ax eu ev ew ex dq do dp ey ez as cx" data-selectable-paragraph="">Density map of the <em class="kz">𝑥 </em>and<em class="kz"> 𝑦 </em>projections of the “pickup_time” feature.</figcaption></figure><p id="83c9" class="ie if fd at ig b fw ih fy ii ij ik il im in io ip dx" data-selectable-paragraph="">We see that the transformed features create a perfect unit circle. Note that, unlike a regular wall clock, all 24 hours are represented on the circle. For example, “midnight” has coordinates <em class="iq">(x, y) = (1, 0), </em>“6 o’clock” is at <em class="iq">(x, y) = (0, 1), </em>while “noon” is at <em class="iq">(x, y) = (-1, 0).</em></p><p id="0407" class="ie if fd at ig b fw ih fy ii ij ik il im in io ip dx" data-selectable-paragraph="">Lastly, we only have one continuous feature, “arc_distance” , which we have not paid any attention to. We are simply going to apply standard scaling to it.</p></div></div><div class="ec"><div class="n p"><div class="jo jp jq jr js jt ag ju ah jv aj ak"><figure class="jx jy jz ka kb ec kc kd paragraph-image"><div class="ee ef eg eh ak"><div class="do dp kh"><div class="en r eg eo"><div class="la r"><div class="ei ej ds t u ek ak cd el em"><img class="ds t u ek ak eq er aq qt" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/1_ioOrCJg0d1BysuRH8LgDxQ.png" width="2632" height="228" role="presentation"></div><img class="oy qs ds t u ek ak et" width="2632" height="228" role="presentation" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/1_ioOrCJg0d1BysuRH8LgDxQ(1).png"><noscript><img class="ds t u ek ak" src="https://miro.medium.com/max/5264/1*ioOrCJg0d1BysuRH8LgDxQ.png" width="2632" height="228" role="presentation"/></noscript></div></div></div></div><figcaption class="ax eu ev ew ex dq do dp ey ez as cx" data-selectable-paragraph="">Standard scaling transformation of a continuous feature with vaex.ml.</figcaption></figure></div></div></div><div class="n p"><div class="ac ae af ag ah fa aj ak"><p id="6509" class="ie if fd at ig b fw ih fy ii ij ik il im in io ip dx" data-selectable-paragraph="">Now that we are done with all of the pre-processing tasks, we can create a final list of features we are going to use for training the model.</p></div></div><div class="ec"><div class="n p"><div class="jo jp jq jr js jt ag ju ah jv aj ak"><figure class="jx jy jz ka kb ec kc kd paragraph-image"><div class="ee ef eg eh ak"><div class="do dp jw"><div class="en r eg eo"><div class="lb r"><div class="ei ej ds t u ek ak cd el em"><img class="ds t u ek ak eq er aq qt" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/1_dXioFe3m1uICxmFRIYzlUQ.png" width="2628" height="1268" role="presentation"></div><img class="oy qs ds t u ek ak et" width="2628" height="1268" role="presentation" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/1_dXioFe3m1uICxmFRIYzlUQ(1).png"><noscript><img class="ds t u ek ak" src="https://miro.medium.com/max/5256/1*dXioFe3m1uICxmFRIYzlUQ.png" width="2628" height="1268" role="presentation"/></noscript></div></div></div></div><figcaption class="ax eu ev ew ex dq do dp ey ez as cx" data-selectable-paragraph="">A subset of the features used for training the model.</figcaption></figure></div></div></div><div class="n p"><div class="ac ae af ag ah fa aj ak"><h2 id="f3dc" class="ir is fd at as it iu iv iw ix iy iz ja jb jc jd je" data-selectable-paragraph="">Training the model: <a href="https://github.com/vaexio/vaex" class="dc by jk jl jm jn" target="_blank" rel="noopener nofollow">Vaex</a> + <a href="https://scikit-learn.org/stable/" class="dc by jk jl jm jn" target="_blank" rel="noopener nofollow">scikit-learn</a></h2><p id="9780" class="ie if fd at ig b fw jf fy jg ij jh il ji in jj ip dx" data-selectable-paragraph="">At this stage we are ready for the model training phase. While <code class="eo kn ko kp kq b">vaex.ml</code> does not yet implement any predictive models, it does provide an interface to several of the popular machine learning libraries in the Python ecosystem such as <a href="https://scikit-learn.org/stable/" class="dc by jk jl jm jn" target="_blank" rel="noopener nofollow">scikit-learn</a> and <a href="https://xgboost.readthedocs.io/en/latest/" class="dc by jk jl jm jn" target="_blank" rel="noopener nofollow">xgboost</a>. The benefit of using these models via Vaex is that one does not waste any memory while doing the data cleaning, feature engineering and pre-preprocessing, and thus maximizes the available RAM for training the model.</p><p id="996c" class="ie if fd at ig b fw ih fy ii ij ik il im in io ip dx" data-selectable-paragraph="">For the current problem, we are still in need of significantly more RAM than available on a typical laptop or desktop computer if we were to materialize all the features we intend to use for the training. To circumvent this issue, we will make use of the <code class="eo kn ko kp kq b"><a href="https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.SGDRegressor.html" class="dc by jk jl jm jn" target="_blank" rel="noopener nofollow">SGDRegressor</a></code> available via scikit-learn. <code class="eo kn ko kp kq b">SGDRegressor</code> belongs to a family of predictive models in scikit-learn that, besides the usual <code class="eo kn ko kp kq b">.fit</code>, also implement a <code class="eo kn ko kp kq b">.partial_fit</code> method. This allows the model to be trained on batches of data, essentially making it out-of-core.</p><p id="f752" class="ie if fd at ig b fw ih fy ii ij ik il im in io ip dx" data-selectable-paragraph="">With the wrapper implemented in <code class="eo kn ko kp kq b">vaex.ml</code> one can easily send batches of data from a Vaex DataFrame to the scikit-learn model. The use is straightforward. First instantiate the <code class="eo kn ko kp kq b">SGDRegressor</code> from scikit-learn while setting its parameters in the standard way. Then instantiate the <code class="eo kn ko kp kq b">IncrementalPredictor</code> implemented in <code class="eo kn ko kp kq b">vaex.ml</code> while also providing the main model, a list of features names, the name of the target column, and the batch size. In principle any model can be used as long as it has a <code class="eo kn ko kp kq b">.partial_fit</code> method and follows the scikit-learn API convention. Through the batch size one can control the RAM usage. Optionally one can also specify the number of epochs, i.e. how many times the data in each batch is seen by the model, and whether it should be shuffled or not. Finally we call the <code class="eo kn ko kp kq b">.fit</code> method on the <code class="eo kn ko kp kq b">IncrementalPredictor</code> instance, where we pass the training set DataFrame.</p></div></div><div class="ec"><div class="n p"><div class="jo jp jq jr js jt ag ju ah jv aj ak"><figure class="jx jy jz ka kb ec kc kd paragraph-image"><div class="ee ef eg eh ak"><div class="do dp kf"><div class="en r eg eo"><div class="lc r"><div class="ei ej ds t u ek ak cd el em"><img class="ds t u ek ak eq er aq qt" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/1_HCwb8EBuaMNgBYORmu9vuA.png" width="2630" height="946" role="presentation"></div><img class="oy qs ds t u ek ak et" width="2630" height="946" role="presentation" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/1_HCwb8EBuaMNgBYORmu9vuA(1).png"><noscript><img class="ds t u ek ak" src="https://miro.medium.com/max/5260/1*HCwb8EBuaMNgBYORmu9vuA.png" width="2630" height="946" role="presentation"/></noscript></div></div></div></div><figcaption class="ax eu ev ew ex dq do dp ey ez as cx" data-selectable-paragraph="">Training a model on ~1 billion samples is easy and fast with <a href="https://github.com/vaexio/vaex" class="dc by jk jl jm jn" target="_blank" rel="noopener nofollow">Vaex</a> and <a href="https://scikit-learn.org/stable/" class="dc by jk jl jm jn" target="_blank" rel="noopener nofollow">scikit-learn</a>.</figcaption></figure></div></div></div><div class="n p"><div class="ac ae af ag ah fa aj ak"><p id="a701" class="ie if fd at ig b fw ih fy ii ij ik il im in io ip dx" data-selectable-paragraph="">It is quite remarkable that this Vaex + scikit-learn combo lead to a total training time of just 7 minutes on my laptop (MacBook Pro 15", 2018, 2.6GHz Intel Core i7, 32GB RAM). This includes on-the-fly evaluation of the 14 features used, all of which are virtual columns, and training the scikit-learn model. In addition, with the set of parameters shown above, the RAM usage never surpassed 4 GB, which leaves me plenty of room to run Slack.</p><p id="c149" class="ie if fd at ig b fw ih fy ii ij ik il im in io ip dx" data-selectable-paragraph="">The exact same setup as shown above was also run by <a href="https://medium.com/u/b8a6decc0862?source=post_page-----9e2968e6f385----------------------" class="ld az by" target="_blank" rel="noopener">Maarten Breddels</a> on his Lenovo Thinkpad X1 Extreme laptop (Intel Core i7–8750H, 32GB RAM), and the training phase took <strong class="ig le">less than 5 minutes!</strong></p></div></div><div class="ec"><div class="n p"><div class="jo jp jq jr js jt ag ju ah jv aj ak"><figure class="jx jy jz ka kb ec kc kd paragraph-image"><div class="ee ef eg eh ak"><div class="do dp jw"><div class="en r eg eo"><div class="lf r"><div class="ei ej ds t u ek ak cd el em"><img class="ds t u ek ak eq er aq qt" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/1_2xK5xXglAZHv1mQJrivB5g.png" width="2628" height="896" role="presentation"></div><img class="oy qs ds t u ek ak et" width="2628" height="896" role="presentation" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/1_2xK5xXglAZHv1mQJrivB5g(1).png"><noscript><img class="ds t u ek ak" src="https://miro.medium.com/max/5256/1*2xK5xXglAZHv1mQJrivB5g.png" width="2628" height="896" role="presentation"/></noscript></div></div></div></div><figcaption class="ax eu ev ew ex dq do dp ey ez as cx" data-selectable-paragraph="">Training the SGDRegressor took less than 5 minutes on a Lenovo Thinkpad X1 Extreme laptop (Intel Core i7–8750H, 32GB RAM) running Linux.</figcaption></figure></div></div></div><div class="n p"><div class="ac ae af ag ah fa aj ak"><p id="cbe5" class="ie if fd at ig b fw ih fy ii ij ik il im in io ip dx" data-selectable-paragraph="">The <code class="eo kn ko kp kq b">IncrementalPredictor</code> is not just a convenience class for passing Vaex DataFrames to scikit-learn models. It is also a <code class="eo kn ko kp kq b">vaex.ml</code> transformer, meaning that the <code class="eo kn ko kp kq b">.transform</code> method returns a shallow copy of a DataFrame containing the model predictions as a virtual column. This is the case for any model wrapper implemented in <code class="eo kn ko kp kq b">vaex.ml</code>. Not only does this cost no extra memory, but it also makes it quite convenient to post-process the result and even make ensembles, as well as to calculate various performance metrics and diagnostic plots, as we shall see in a moment.</p></div></div><div class="ec"><div class="n p"><div class="jo jp jq jr js jt ag ju ah jv aj ak"><figure class="jx jy jz ka kb ec kc kd paragraph-image"><div class="ee ef eg eh ak"><div class="do dp kf"><div class="en r eg eo"><div class="lg r"><div class="ei ej ds t u ek ak cd el em"><img class="ds t u ek ak eq er aq qt" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/1_ES1ZDpGywSPPxCqshlvzJA.png" width="2630" height="664" role="presentation"></div><img class="oy qs ds t u ek ak et" width="2630" height="664" role="presentation" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/1_ES1ZDpGywSPPxCqshlvzJA(1).png"><noscript><img class="ds t u ek ak" src="https://miro.medium.com/max/5260/1*ES1ZDpGywSPPxCqshlvzJA.png" width="2630" height="664" role="presentation"/></noscript></div></div></div></div><figcaption class="ax eu ev ew ex dq do dp ey ez as cx" data-selectable-paragraph="">All model wrappers in vaex.ml are transformers.</figcaption></figure></div></div></div><div class="n p"><div class="ac ae af ag ah fa aj ak"><p id="3cf3" class="ie if fd at ig b fw ih fy ii ij ik il im in io ip dx" data-selectable-paragraph="">Finally, let us constrain the predictions to be within the bounds of the data the model was trained on. This is done to prevent the estimation of unphysical or unrealistic durations for some exotic combinations of feature values. Thus, let us set any predictions smaller than 3 minutes to 3, and any predictions larger than 25 minutes to 25.</p></div></div><div class="ec"><div class="n p"><div class="jo jp jq jr js jt ag ju ah jv aj ak"><figure class="jx jy jz ka kb ec kc kd paragraph-image"><div class="ee ef eg eh ak"><div class="do dp jw"><div class="en r eg eo"><div class="lh r"><div class="ei ej ds t u ek ak cd el em"><img class="ds t u ek ak eq er aq qt" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/1_5Z4kaG5zHDvs6nyhBLz_MA.png" width="2628" height="182" role="presentation"></div><img class="oy qs ds t u ek ak et" width="2628" height="182" role="presentation" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/1_5Z4kaG5zHDvs6nyhBLz_MA(1).png"><noscript><img class="ds t u ek ak" src="https://miro.medium.com/max/5256/1*5Z4kaG5zHDvs6nyhBLz_MA.png" width="2628" height="182" role="presentation"/></noscript></div></div></div></div><figcaption class="ax eu ev ew ex dq do dp ey ez as cx" data-selectable-paragraph="">The output of a vaex.ml model wrapper is a virtual column, which makes it easy to post-process, or to use for creating diagnostic plots or compute metrics.</figcaption></figure></div></div></div><div class="n p"><div class="ac ae af ag ah fa aj ak"><h2 id="01cd" class="ir is fd at as it iu iv iw ix iy iz ja jb jc jd je" data-selectable-paragraph="">What about a pipeline?</h2><p id="ce97" class="ie if fd at ig b fw jf fy jg ij jh il ji in jj ip dx" data-selectable-paragraph="">Now that the model is trained, we would like to know how well it is doing by applying it on the test set. You may have noticed that, unlike other libraries, we did not explicitly create a pipeline to propagate all the data cleaning and transformation steps. In fact, with Vaex, a pipeline is <strong class="ig le">automatically</strong><em class="iq"> </em>being created as one is doing exploration and transformation of the data. Each Vaex DataFrame contains a <em class="iq">state</em>, which is a serialisable object containing all of the transformations applied to it: filtering, creating new virtual columns, column transformation).</p><p id="ff59" class="ie if fd at ig b fw ih fy ii ij ik il im in io ip dx" data-selectable-paragraph="">Recall that all of the features we created, along with the output of the PCA transformations, scaling and the predictive model output, including the final tinkering with the predictions are virtual columns, and thus are stored in the state of the training DataFrame. Thus, to calculate the predictions on the test set, all we need to do is to apply this state to that test set DataFrame, and all of the transformations will be automatically propagated.</p></div></div><div class="ec"><div class="n p"><div class="jo jp jq jr js jt ag ju ah jv aj ak"><figure class="jx jy jz ka kb ec kc kd paragraph-image"><div class="ee ef eg eh ak"><div class="do dp kf"><div class="en r eg eo"><div class="li r"><div class="ei ej ds t u ek ak cd el em"><img class="ds t u ek ak eq er aq qt" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/1_Tikk4ccQpY2KXzs1iYGOvw.png" width="2630" height="786" role="presentation"></div><img class="oy qs ds t u ek ak et" width="2630" height="786" role="presentation" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/1_Tikk4ccQpY2KXzs1iYGOvw(1).png"><noscript><img class="ds t u ek ak" src="https://miro.medium.com/max/5260/1*Tikk4ccQpY2KXzs1iYGOvw.png" width="2630" height="786" role="presentation"/></noscript></div></div></div></div><figcaption class="ax eu ev ew ex dq do dp ey ez as cx" data-selectable-paragraph="">Applying the state from the training to the test set results in automatic propagation of filters and virtual columns.</figcaption></figure></div></div></div><div class="n p"><div class="ac ae af ag ah fa aj ak"><p id="a640" class="ie if fd at ig b fw ih fy ii ij ik il im in io ip dx" data-selectable-paragraph="">The state can be also serialized and read from disk, which greatly simplifies the task of model deployment.</p></div></div><div class="ec"><div class="n p"><div class="jo jp jq jr js jt ag ju ah jv aj ak"><figure class="jx jy jz ka kb ec kc kd paragraph-image"><div class="ee ef eg eh ak"><div class="do dp jw"><div class="en r eg eo"><div class="lj r"><div class="oy qs ds t u ek ak cd el em"><img class="ds t u ek ak eq er es" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/1_GV6tsL9Gmhd0ePhSSVdRDw.png" width="2628" height="316" role="presentation"></div><img class="ei ej ds t u ek ak et" width="2628" height="316" role="presentation"><noscript><img class="ds t u ek ak" src="https://miro.medium.com/max/5256/1*GV6tsL9Gmhd0ePhSSVdRDw.png" width="2628" height="316" role="presentation"/></noscript></div></div></div></div><figcaption class="ax eu ev ew ex dq do dp ey ez as cx" data-selectable-paragraph="">The state of a Vaex DataFrame can be easily serialized and read from disk. This is can be extremely useful when deploying the model.</figcaption></figure></div></div></div><div class="n p"><div class="ac ae af ag ah fa aj ak"><h2 id="cc4d" class="ir is fd at as it iu iv iw ix iy iz ja jb jc jd je" data-selectable-paragraph="">Model diagnostics</h2><p id="2faf" class="ie if fd at ig b fw jf fy jg ij jh il ji in jj ip dx" data-selectable-paragraph="">Now that the trip duration predictions are available for both the training and the test set, let us calculate some performance metrics. Since this is a regression problem, we will calculate the mean absolute and the mean squared errors.</p></div></div><div class="ec"><div class="n p"><div class="jo jp jq jr js jt ag ju ah jv aj ak"><figure class="jx jy jz ka kb ec kc kd paragraph-image"><div class="ee ef eg eh ak"><div class="do dp jw"><div class="en r eg eo"><div class="lk r"><div class="oy qs ds t u ek ak cd el em"><img class="ds t u ek ak eq er es" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/1_JHdffifKEaCltke9uCmprw.png" width="2628" height="818" role="presentation"></div><img class="ei ej ds t u ek ak et" width="2628" height="818" role="presentation"><noscript><img class="ds t u ek ak" src="https://miro.medium.com/max/5256/1*JHdffifKEaCltke9uCmprw.png" width="2628" height="818" role="presentation"/></noscript></div></div></div></div><figcaption class="ax eu ev ew ex dq do dp ey ez as cx" data-selectable-paragraph="">Computing the absolute and mean square errors for both the train and the test sets.</figcaption></figure></div></div></div><div class="n p"><div class="ac ae af ag ah fa aj ak"><p id="e56f" class="ie if fd at ig b fw ih fy ii ij ik il im in io ip dx" data-selectable-paragraph="">Notice that calculation of the 4 statistics shown in the figure above took ~4.5 minutes. This is quite impressive considering that the computation requires evaluating all the features which were then passed on to the model to obtain the predictions, and this was done for over 1 billion samples between the train and the test sets, twice over.</p><p id="3794" class="ie if fd at ig b fw ih fy ii ij ik il im in io ip dx" data-selectable-paragraph="">The mean absolute error evaluated on the test set is just over 3.5 minutes. Whether this is an acceptable error, one should probably consult with a frequent taxi passenger or a taxi driver in New York City. We should not accept such statistics at face value, and hence let us create a couple of diagnostic plots. Let us plot the distribution of the actual vs the estimated trip durations, as well as the absolute error of the predicted durations.</p><figure class="jx jy jz ka kb ec do dp paragraph-image"><div class="ee ef eg eh ak"><div class="do dp kt"><div class="en r eg eo"><div class="ll r"><div class="oy qs ds t u ek ak cd el em"><img class="ds t u ek ak eq er es" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/1_Q8X1EzgP3UR23o6Vq51ilA.png" width="996" height="420" role="presentation"></div><img class="ei ej ds t u ek ak et" width="996" height="420" role="presentation"><noscript><img class="ds t u ek ak" src="https://miro.medium.com/max/1992/1*Q8X1EzgP3UR23o6Vq51ilA.png" width="996" height="420" role="presentation"/></noscript></div></div></div></div><figcaption class="ax eu ev ew ex dq do dp ey ez as cx" data-selectable-paragraph="">Left: A density map of the actual vs the estimated trip durations of the test set. Right: Absolute error of the predicted durations of the test set.</figcaption></figure><p id="fb33" class="ie if fd at ig b fw ih fy ii ij ik il im in io ip dx" data-selectable-paragraph="">While we see a strong correlation between the actual and the estimated trip durations, the left panel of the figure above also shows that the model estimates are systematically biased to higher values. One potential reason for this is the non-Gaussian distribution of the training features and the target variable. There could also be some outliers that negatively affect the model performance, despite or filtering efforts earlier. On the other hand, it is not that bad to be a bit pessimistic when it comes to estimating taxi trip durations, perhaps.</p><p id="c39d" class="ie if fd at ig b fw ih fy ii ij ik il im in io ip dx" data-selectable-paragraph="">The right panel shows the number of trips per absolute error bin. In fact, 77% of all trip durations in the test set were estimated with an absolute error of less than 5 minutes. While the current model may serve as a good starting baseline, there is plenty of room for improvement. The good news is that with Vaex, we have a tool that enables us to be creative and try out many features and pre-processing combinations in an incredibly efficient manner.</p><p id="7b64" class="ie if fd at ig b fw ih fy ii ij ik il im in io ip dx" data-selectable-paragraph="">Speaking of the model, the trained instance of the <code class="eo kn ko kp kq b">SGDRegressor</code> is readily available as an attribute of the <code class="eo kn ko kp kq b">IncrementalPredictor</code>. It can easily be accessed, and we can use it for example to inspect the relative importance of the features used to train the model.</p></div></div><div class="ec"><div class="n p"><div class="jo jp jq jr js jt ag ju ah jv aj ak"><figure class="jx jy jz ka kb ec kc kd paragraph-image"><div class="ee ef eg eh ak"><div class="do dp kf"><div class="en r eg eo"><div class="lm r"><div class="oy qs ds t u ek ak cd el em"><img class="ds t u ek ak eq er es" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/1_vfWmyq0-Uoz2TAyJqZYJ8Q.png" width="2630" height="894" role="presentation"></div><img class="ei ej ds t u ek ak et" width="2630" height="894" role="presentation"><noscript><img class="ds t u ek ak" src="https://miro.medium.com/max/5260/1*vfWmyq0-Uoz2TAyJqZYJ8Q.png" width="2630" height="894" role="presentation"/></noscript></div></div></div></div></figure></div></div></div><div class="n p"><div class="ac ae af ag ah fa aj ak"><figure class="jx jy jz ka kb ec do dp paragraph-image"><div class="ee ef eg eh ak"><div class="do dp ln"><div class="en r eg eo"><div class="lo r"><div class="oy qs ds t u ek ak cd el em"><img class="ds t u ek ak eq er es" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/1_rML_Fhek-lQgdzqSkhu4Iw.png" width="704" height="505" role="presentation"></div><img class="ei ej ds t u ek ak et" width="704" height="505" role="presentation"><noscript><img class="ds t u ek ak" src="https://miro.medium.com/max/1408/1*rML_Fhek-lQgdzqSkhu4Iw.png" width="704" height="505" role="presentation"/></noscript></div></div></div></div><figcaption class="ax eu ev ew ex dq do dp ey ez as cx" data-selectable-paragraph="">The relative importance of the features used to train the model.</figcaption></figure><h2 id="43ac" class="ir is fd at as it iu iv iw ix iy iz ja jb jc jd je" data-selectable-paragraph="">What about production?</h2><p id="4063" class="ie if fd at ig b fw jf fy jg ij jh il ji in jj ip dx" data-selectable-paragraph="">Imagine that we manage to iron all the quirks out of our model, and that after a thorough validation it is ready to be put in production. In principle, this is quite easily done with Vaex. All that is required is for one to store the state in the production environment. The state can than be easily applied on an incoming Vaex DataFrame, and the predictions will be readily available.</p><p id="cfb6" class="ie if fd at ig b fw ih fy ii ij ik il im in io ip dx" data-selectable-paragraph="">Recall that the state not only memorizes all virtual columns that were created, but also which filters were applied. So, if one would query a prediction for a sample which would be filtered out if it was part of the training set, at prediction time it would also be filtered out, and thus that sample would “disappear”. In reality, samples can not just go missing, and many production cases require that we always return at least some kind of a prediction, no matter the query.</p><p id="8ac3" class="ie if fd at ig b fw ih fy ii ij ik il im in io ip dx" data-selectable-paragraph="">To overcome this hurdle, we can make use of the fact that in Vaex, a filtered DataFrame actually still contains all of the data, plus an expression that defines which rows are filtered out, and which are kept. While in other common libraries such as Numpy and Pandas one can only filter out more rows, in Vaex one can actually get rows back by using the “or” operator in a filter.</p><p id="b6a2" class="ie if fd at ig b fw ih fy ii ij ik il im in io ip dx" data-selectable-paragraph="">Let’s implement this idea for our problem. We add a variable called “production” to the training DataFrame and set its value to <code class="eo kn ko kp kq b">False</code>. Then, we add an additional filter, which in this case is just the value of the variable. However, now we use the “or” instead of the default “and” operator which is used in cases like <code class="eo kn ko kp kq b">df3 = df2[df2.x &lt; 5]</code>. The idea is simple: if this last filter is set to <code class="eo kn ko kp kq b">False</code>, it will have no effect on any other filters since its mode of operation is ”or”. If it is set to <code class="eo kn ko kp kq b">True</code> however, which can be done by modifying the value of the “production” variable, it will invalidate all other filters, and thus any data point can pass through.</p></div></div><div class="ec"><div class="n p"><div class="jo jp jq jr js jt ag ju ah jv aj ak"><figure class="jx jy jz ka kb ec kc kd paragraph-image"><div class="ee ef eg eh ak"><div class="do dp lp"><div class="en r eg eo"><div class="lq r"><div class="oy qs ds t u ek ak cd el em"><img class="ds t u ek ak eq er es" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/1_iZGMFSTIWpHffrLRWp-H7w.png" width="2634" height="784" role="presentation"></div><img class="ei ej ds t u ek ak et" width="2634" height="784" role="presentation"><noscript><img class="ds t u ek ak" src="https://miro.medium.com/max/5268/1*iZGMFSTIWpHffrLRWp-H7w.png" width="2634" height="784" role="presentation"/></noscript></div></div></div></div><figcaption class="ax eu ev ew ex dq do dp ey ez as cx" data-selectable-paragraph="">An example of how filters can be enabled or disabled with a help of a variable in a Vaex DataFrame.</figcaption></figure></div></div></div><div class="n p"><div class="ac ae af ag ah fa aj ak"><p id="815a" class="ie if fd at ig b fw ih fy ii ij ik il im in io ip dx" data-selectable-paragraph="">The code block above shows how we can include and modify the “production” variable such that the filters are disabled when needed. We can easily confirm that in this case, the test DataFrame contains as many samples as it did when we preformed the train/test split, with a prediction for each of them. Calculating the mean absolute error in this case gives us a higher result of 13 minutes, which is not surprising given that the model is ill trained to provide predictions for the many outliers or erroneous samples that are now part of the test set.</p><h2 id="a11a" class="ir is fd at as it iu iv iw ix iy iz ja jb jc jd je" data-selectable-paragraph="">Our vision of the future</h2><p id="bdc5" class="ie if fd at ig b fw jf fy jg ij jh il ji in jj ip dx" data-selectable-paragraph="">I hope I managed to show you how easy and convenient it is to create a machine learning pipeline using <a href="https://github.com/vaexio/vaex" class="dc by jk jl jm jn" target="_blank" rel="noopener nofollow">Vaex</a>, even when the training data numbers over a billion samples and takes over 100 GB of disk space. I am sure you will find much more creative ways of using <a href="https://github.com/vaexio/vaex" class="dc by jk jl jm jn" target="_blank" rel="noopener nofollow">Vaex</a> to improve the model presented in this article, as well as create many new ones for various other problems and use cases.</p><p id="277e" class="ie if fd at ig b fw ih fy ii ij ik il im in io ip dx" data-selectable-paragraph="">We, the <a href="https://github.com/vaexio/vaex" class="dc by jk jl jm jn" target="_blank" rel="noopener nofollow">Vaex</a> team, believe in a future in which data science and machine learning can be down both conveniently and efficiently, even for “big” data, with tools that are free and open-source. We aim to make Vaex better integrated with the pillars of the Python data science stack, and are putting considerable efforts in <a href="https://github.com/scikit-learn/scikit-learn/pull/14963" class="dc by jk jl jm jn" target="_blank" rel="noopener nofollow">bringing Vaex and scikit-learn closer together</a>. Stay tuned, there are definitely more exciting things coming this way!</p><p id="3530" class="ie if fd at ig b fw ih fy ii ij ik il im in io ip dx" data-selectable-paragraph="">Happy data sciencing!</p></div></div></section></div></article><div class="ei dw lr s ak ly lw lz" data-test-id="post-sidebar"><div class="n p"><div class="ac ae af ag ah ai aj ak"><div class="ma n dr"><div class="dw"><div class="mb mc r"><a href="https://towardsdatascience.com/?source=post_sidebar--------------------------post_sidebar-" class="dc dd bb bc bd be bf bg bh bi ib ic bl bm hd he" rel="noopener"><h2 class="as it md au fd">Towards Data Science</h2></a><div class="me mf r"><h4 class="as cx eu au cd mg gy gz mh hb ax">A Medium publication sharing concepts, ideas, and codes.</h4></div><div class="bx" aria-hidden="true"><a href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Ftowardsdatascience.com%2Fml-impossible-train-a-1-billion-sample-model-in-20-minutes-with-vaex-and-scikit-learn-on-your-9e2968e6f385&amp;source=post_sidebar--------------------------follow_sidebar-" class="mi bq az ba br bj bk bs bi bt as b at au av aw bu bv bw bx by bl" rel="noopener">Follow</a></div></div><div class="mj mk ml n"><div class="n o"><div class="mm r eg"><a href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Ftowardsdatascience.com%2Fml-impossible-train-a-1-billion-sample-model-in-20-minutes-with-vaex-and-scikit-learn-on-your-9e2968e6f385&amp;source=post_sidebar-----9e2968e6f385---------------------clap_sidebar-" class="dc dd bb bc bd be bf bg bh bi ib ic bl bm hd he" rel="noopener"><div class="bg mn mo mp mq mr ms mt ba mu bk"><svg width="29" height="29"><g fill-rule="evenodd"><path d="M13.74 1l.76 2.97.76-2.97zM16.82 4.78l1.84-2.56-1.43-.47zM10.38 2.22l1.84 2.56-.41-3.03zM22.38 22.62a5.11 5.11 0 0 1-3.16 1.61l.49-.45c2.88-2.89 3.45-5.98 1.69-9.21l-1.1-1.94-.96-2.02c-.31-.67-.23-1.18.25-1.55a.84.84 0 0 1 .66-.16c.34.05.66.28.88.6l2.85 5.02c1.18 1.97 1.38 5.12-1.6 8.1M9.1 22.1l-5.02-5.02a1 1 0 0 1 .7-1.7 1 1 0 0 1 .72.3l2.6 2.6a.44.44 0 0 0 .63-.62L6.1 15.04l-1.75-1.75a1 1 0 1 1 1.41-1.41l4.15 4.15a.44.44 0 0 0 .63 0 .44.44 0 0 0 0-.62L6.4 11.26l-1.18-1.18a1 1 0 0 1 0-1.4 1.02 1.02 0 0 1 1.41 0l1.18 1.16L11.96 14a.44.44 0 0 0 .62 0 .44.44 0 0 0 0-.63L8.43 9.22a.99.99 0 0 1-.3-.7.99.99 0 0 1 .3-.7 1 1 0 0 1 1.41 0l7 6.98a.44.44 0 0 0 .7-.5l-1.35-2.85c-.31-.68-.23-1.19.25-1.56a.85.85 0 0 1 .66-.16c.34.06.66.28.88.6L20.63 15c1.57 2.88 1.07 5.54-1.55 8.16a5.62 5.62 0 0 1-5.06 1.65 9.35 9.35 0 0 1-4.93-2.72zM13 6.98l2.56 2.56c-.5.6-.56 1.41-.15 2.28l.26.56-4.25-4.25a.98.98 0 0 1-.12-.45 1 1 0 0 1 .29-.7 1.02 1.02 0 0 1 1.41 0zm8.89 2.06c-.38-.56-.9-.92-1.49-1.01a1.74 1.74 0 0 0-1.34.33c-.38.29-.61.65-.71 1.06a2.1 2.1 0 0 0-1.1-.56 1.78 1.78 0 0 0-.99.13l-2.64-2.64a1.88 1.88 0 0 0-2.65 0 1.86 1.86 0 0 0-.48.85 1.89 1.89 0 0 0-2.67-.01 1.87 1.87 0 0 0-.5.9c-.76-.75-2-.75-2.7-.04a1.88 1.88 0 0 0 0 2.66c-.3.12-.61.29-.87.55a1.88 1.88 0 0 0 0 2.66l.62.62a1.88 1.88 0 0 0-.9 3.16l5.01 5.02c1.6 1.6 3.52 2.64 5.4 2.96a7.16 7.16 0 0 0 1.18.1c1.03 0 2-.25 2.9-.7A5.9 5.9 0 0 0 23 23.24c3.34-3.34 3.08-6.93 1.74-9.17l-2.87-5.04z"></path></g></svg></div></a></div><div class="mv r"><div class="mw"><h4 class="as cx eu au ax"><button class="dc dd bb bc bd be bf bg bh bi ib ic bl bm hd he">653 </button></h4></div></div></div></div><a href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Ftowardsdatascience.com%2Fml-impossible-train-a-1-billion-sample-model-in-20-minutes-with-vaex-and-scikit-learn-on-your-9e2968e6f385&amp;source=post_sidebar--------------------------bookmark_sidebar-" class="dc dd bb bc bd be bf bg bh bi ib ic bl bm hd he" rel="noopener"><svg width="25" height="25" viewBox="0 0 25 25"><path d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z" fill-rule="evenodd"></path></svg></a></div></div></div></div></div><div class="ei dw lr s ls lt lu lv lw lx"></div><div><div class="mx ec n dr p"><div class="n p"><div class="ac ae af ag ah fa aj ak"><div class="n my"><div class="r"><h4 class="as cx cy au ax">Thanks to <!-- -->Maarten Breddels<!-- -->, <!-- -->Jonathan Alexander<!-- -->, and <!-- -->Ludovic Benistant<!-- -->.&nbsp;</h4></div></div><div class="n o my"></div><div class="mz r"><ul class="bg bh"><li class="bx cj na nb"><a href="https://towardsdatascience.com/tag/data-science" class="nc nd by ax r ne nf a b cy">Data Science</a></li><li class="bx cj na nb"><a href="https://towardsdatascience.com/tag/machine-learning" class="nc nd by ax r ne nf a b cy">Machine Learning</a></li><li class="bx cj na nb"><a href="https://towardsdatascience.com/tag/scikit-learn" class="nc nd by ax r ne nf a b cy">Scikit Learn</a></li><li class="bx cj na nb"><a href="https://towardsdatascience.com/tag/vaex" class="nc nd by ax r ne nf a b cy">Vaex</a></li><li class="bx cj na nb"><a href="https://towardsdatascience.com/tag/big-data" class="nc nd by ax r ne nf a b cy">Big Data</a></li></ul></div><div class="ng n gn ab"><div class="n o"><div class="nh r eg"><a href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Ftowardsdatascience.com%2Fml-impossible-train-a-1-billion-sample-model-in-20-minutes-with-vaex-and-scikit-learn-on-your-9e2968e6f385&amp;source=post_actions_footer-----9e2968e6f385---------------------clap_footer-" class="dc dd bb bc bd be bf bg bh bi ib ic bl bm hd he" rel="noopener"><div class="c ni gr n o nj eg nk nl nm nn no np nq nr ns nt nu nv nw bs"><div class="bg mn mo mp mq mr nx mt o et gr n p ny u ek ds t ak ba mu bk nz"><svg width="33" height="33" viewBox="0 0 33 33"><path d="M28.86 17.34l-3.64-6.4c-.3-.43-.71-.73-1.16-.8a1.12 1.12 0 0 0-.9.21c-.62.5-.73 1.18-.32 2.06l1.22 2.6 1.4 2.45c2.23 4.09 1.51 8-2.15 11.66a9.6 9.6 0 0 1-.8.71 6.53 6.53 0 0 0 4.3-2.1c3.82-3.82 3.57-7.87 2.05-10.39zm-6.25 11.08c3.35-3.35 4-6.78 1.98-10.47L21.2 12c-.3-.43-.71-.72-1.16-.8a1.12 1.12 0 0 0-.9.22c-.62.49-.74 1.18-.32 2.06l1.72 3.63a.5.5 0 0 1-.81.57l-8.91-8.9a1.33 1.33 0 0 0-1.89 1.88l5.3 5.3a.5.5 0 0 1-.71.7l-5.3-5.3-1.49-1.49c-.5-.5-1.38-.5-1.88 0a1.34 1.34 0 0 0 0 1.89l1.49 1.5 5.3 5.28a.5.5 0 0 1-.36.86.5.5 0 0 1-.36-.15l-5.29-5.29a1.34 1.34 0 0 0-1.88 0 1.34 1.34 0 0 0 0 1.89l2.23 2.23L9.3 21.4a.5.5 0 0 1-.36.85.5.5 0 0 1-.35-.14l-3.32-3.33a1.33 1.33 0 0 0-1.89 0 1.32 1.32 0 0 0-.39.95c0 .35.14.69.4.94l6.39 6.4c3.53 3.53 8.86 5.3 12.82 1.35zM12.73 9.26l5.68 5.68-.49-1.04c-.52-1.1-.43-2.13.22-2.89l-3.3-3.3a1.34 1.34 0 0 0-1.88 0 1.33 1.33 0 0 0-.4.94c0 .22.07.42.17.61zm14.79 19.18a7.46 7.46 0 0 1-6.41 2.31 7.92 7.92 0 0 1-3.67.9c-3.05 0-6.12-1.63-8.36-3.88l-6.4-6.4A2.31 2.31 0 0 1 2 19.72a2.33 2.33 0 0 1 1.92-2.3l-.87-.87a2.34 2.34 0 0 1 0-3.3 2.33 2.33 0 0 1 1.24-.64l-.14-.14a2.34 2.34 0 0 1 0-3.3 2.39 2.39 0 0 1 3.3 0l.14.14a2.33 2.33 0 0 1 3.95-1.24l.09.09c.09-.42.29-.83.62-1.16a2.34 2.34 0 0 1 3.3 0l3.38 3.39a2.17 2.17 0 0 1 1.27-.17c.54.08 1.03.35 1.45.76.1-.55.41-1.03.9-1.42a2.12 2.12 0 0 1 1.67-.4 2.8 2.8 0 0 1 1.85 1.25l3.65 6.43c1.7 2.83 2.03 7.37-2.2 11.6zM13.22.48l-1.92.89 2.37 2.83-.45-3.72zm8.48.88L19.78.5l-.44 3.7 2.36-2.84zM16.5 3.3L15.48 0h2.04L16.5 3.3z" fill-rule="evenodd"></path></svg></div></div></a></div><div class="mv r"><div class="mw"><h4 class="as cx eu au fd"><button class="dc dd bb bc bd be bf bg bh bi ib ic bl bm hd he">653 claps</button></h4></div></div></div><div class="n o"><div class="ia r ap"><a href="https://medium.com/p/9e2968e6f385/share/twitter?source=post_actions_footer---------------------------" class="dc dd bb bc bd be bf bg bh bi ib ic bl bm hd he" target="_blank" rel="noopener nofollow"><svg width="29" height="29" class="q"><path d="M22.05 7.54a4.47 4.47 0 0 0-3.3-1.46 4.53 4.53 0 0 0-4.53 4.53c0 .35.04.7.08 1.05A12.9 12.9 0 0 1 5 6.89a5.1 5.1 0 0 0-.65 2.26c.03 1.6.83 2.99 2.02 3.79a4.3 4.3 0 0 1-2.02-.57v.08a4.55 4.55 0 0 0 3.63 4.44c-.4.08-.8.13-1.21.16l-.81-.08a4.54 4.54 0 0 0 4.2 3.15 9.56 9.56 0 0 1-5.66 1.94l-1.05-.08c2 1.27 4.38 2.02 6.94 2.02 8.3 0 12.86-6.9 12.84-12.85.02-.24 0-.43 0-.65a8.68 8.68 0 0 0 2.26-2.34c-.82.38-1.7.62-2.6.72a4.37 4.37 0 0 0 1.95-2.51c-.84.53-1.81.9-2.83 1.13z"></path></svg></a></div><div class="ia r ap"><a href="https://medium.com/p/9e2968e6f385/share/facebook?source=post_actions_footer---------------------------" class="dc dd bb bc bd be bf bg bh bi ib ic bl bm hd he" target="_blank" rel="noopener nofollow"><svg width="29" height="29" class="q"><path d="M23.2 5H5.8a.8.8 0 0 0-.8.8V23.2c0 .44.35.8.8.8h9.3v-7.13h-2.38V13.9h2.38v-2.38c0-2.45 1.55-3.66 3.74-3.66 1.05 0 1.95.08 2.2.11v2.57h-1.5c-1.2 0-1.48.57-1.48 1.4v1.96h2.97l-.6 2.97h-2.37l.05 7.12h5.1a.8.8 0 0 0 .79-.8V5.8a.8.8 0 0 0-.8-.79"></path></svg></a></div><div class="ia r ap"><a href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Ftowardsdatascience.com%2Fml-impossible-train-a-1-billion-sample-model-in-20-minutes-with-vaex-and-scikit-learn-on-your-9e2968e6f385&amp;source=post_actions_footer--------------------------bookmark_sidebar-" class="dc dd bb bc bd be bf bg bh bi ib ic bl bm hd he" rel="noopener"><svg width="25" height="25" viewBox="0 0 25 25"><path d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z" fill-rule="evenodd"></path></svg></a></div><div class="bx" aria-hidden="true"><div class="bx" aria-hidden="true"><div class="r ap"><button class="dc dd bb bc bd be bf bg bh bi ib ic bl bm hd he"><svg width="25" height="25" viewBox="-480.5 272.5 21 21" class="q"><path d="M-463 284.6c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5zm-7-.9c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5zm-7-.9c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5z"></path></svg></button></div></div></div></div></div><div class="oa ob oc mz r ab"><div class="od oe r eg"><span class="r of an og"><div class="r ds oh oi"><a href="https://towardsdatascience.com/@jovan.veljanoski?source=follow_footer--------------------------follow_footer-" rel="noopener"><img alt="Jovan Veljanoski" class="r gr cq oj" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/2_gTwAq1SkQ3mii7TYg4w_1w(1).jpeg" width="80" height="80"></a></div><span class="r"><div class="ok r ol"><p class="as cx cy au ax da om">Written by</p></div><div class="ok on n ol"><div class="ak n o gn"><h2 class="as it oo op fd"><a href="https://towardsdatascience.com/@jovan.veljanoski?source=follow_footer--------------------------follow_footer-" class="dc dd bb bc bd be bf bg bh bi ib ic bl bm hd he" rel="noopener">Jovan Veljanoski</a></h2><div class="r g"><a href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Ftowardsdatascience.com%2Fml-impossible-train-a-1-billion-sample-model-in-20-minutes-with-vaex-and-scikit-learn-on-your-9e2968e6f385&amp;source=follow_footer-3bd573100d67-------------------------follow_footer-" class="mi bq az ba br bj bk bs bi bt as b at au av aw bu bv bw bx by bl" rel="noopener">Follow</a></div></div></div></span></span><div class="ok oq r ol cb"><div class="or r"><h4 class="as cx md os ax">Senior data scientist at XebiaLabs | co-founder of vaex.io | PhD Astrophysics | https://www.linkedin.com/in/jovanvel/</h4></div><div class="ot ou cb"><a href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Ftowardsdatascience.com%2Fml-impossible-train-a-1-billion-sample-model-in-20-minutes-with-vaex-and-scikit-learn-on-your-9e2968e6f385&amp;source=follow_footer-3bd573100d67-------------------------follow_footer-" class="mi bq az ba br bj bk bs bi bt as b at au av aw bu bv bw bx by bl" rel="noopener">Follow</a></div></div></div><div class="oa r"></div><div class="od oe r eg"><span class="r of an og"><div class="r ds oh oi"><a href="https://towardsdatascience.com/?source=follow_footer--------------------------follow_footer-" rel="noopener"><img alt="Towards Data Science" class="bt oj cq" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/1_hVxgUA6kP-PgL5TJjuyePg.png" width="80" height="80"></a></div><span class="r"><div class="ok on n ol"><div class="ak n o gn"><h2 class="as it oo op fd"><a href="https://towardsdatascience.com/?source=follow_footer--------------------------follow_footer-" class="dc dd bb bc bd be bf bg bh bi ib ic bl bm hd he" rel="noopener">Towards Data Science</a></h2><div class="r g"><div class="bx" aria-hidden="true"><a href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Ftowardsdatascience.com%2Fml-impossible-train-a-1-billion-sample-model-in-20-minutes-with-vaex-and-scikit-learn-on-your-9e2968e6f385&amp;source=follow_footer--------------------------follow_footer-" class="mi bq az ba br bj bk bs bi bt as b at au av aw bu bv bw bx by bl" rel="noopener">Follow</a></div></div></div></div></span></span><div class="ok ov r ol cb"><div class="or r"><h4 class="as cx md os ax">A Medium publication sharing concepts, ideas, and codes.</h4></div><div class="ot ou cb"><div class="bx" aria-hidden="true"><a href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Ftowardsdatascience.com%2Fml-impossible-train-a-1-billion-sample-model-in-20-minutes-with-vaex-and-scikit-learn-on-your-9e2968e6f385&amp;source=follow_footer--------------------------follow_footer-" class="mi bq az ba br bj bk bs bi bt as b at au av aw bu bv bw bx by bl" rel="noopener">Follow</a></div></div></div></div></div><div class="ow ob r ab"><a href="https://medium.com/p/9e2968e6f385/responses/show?source=follow_footer--------------------------follow_footer-" class="dc dd bb bc bd be bf bg bh bi ib ic bl bm hd he" rel="noopener"><span class="ox oy mq"><div class="oz pa bt r ex g"><span class="az">Write the first response</span></div></span></a></div></div></div><div class="pb r pc ab"><div class="n p"><div class="ac ae af ag ah ai aj ak"></div></div></div></div></div><div class="pd r pe pf"><section class="do dp ak bw r pg ph pi pj pk pl pm pn po pp pq pr ps pt pu"><div class="pv pw od n gn g"><div class="px n gn"><div class="py r pz"><div class="qa r"><a href="https://medium.com/about?autoplay=1&amp;source=post_page-----9e2968e6f385----------------------" class="dc dd bb bc bd be bf bg bh bi qb qc bl bm qd qe" rel="noopener"><h4 class="qf qg qh as it at os qi qj r">Discover <!-- -->Medium</h4></a></div><span class="as b at au av aw r qk ql">Welcome to a place where words matter. On <!-- -->Medium<!-- -->, smart voices and original ideas take center stage - with no ads in sight.<!-- --> <a href="https://medium.com/about?autoplay=1&amp;source=post_page-----9e2968e6f385----------------------" class="dc dd bb bc bd be bf bg bh bi bl bm qd qe qm" rel="noopener">Watch</a></span></div><div class="py r pz"><div class="qn r"><a href="https://medium.com/topics?source=post_page-----9e2968e6f385----------------------" class="dc dd bb bc bd be bf bg bh bi qb qc bl bm qd qe" rel="noopener"><h4 class="qf qg qh as it at os qi qj r">Make <!-- -->Medium<!-- --> yours</h4></a></div><span class="as b at au av aw r qk ql">Follow all the topics you care about, and we’ll deliver the best stories for you to your homepage and inbox.<!-- --> <a href="https://medium.com/topics?source=post_page-----9e2968e6f385----------------------" class="dc dd bb bc bd be bf bg bh bi bl bm qd qe qm" rel="noopener">Explore</a></span></div><div class="py r pz"><div class="qa r"><a href="https://medium.com/membership?source=post_page-----9e2968e6f385----------------------" class="dc dd bb bc bd be bf bg bh bi qb qc bl bm qd qe" rel="noopener"><h4 class="qf qg qh as it at os qi qj r">Become a member</h4></a></div><span class="as b at au av aw r qk ql">Get unlimited access to the best stories on <!-- -->Medium<!-- --> — and support writers while you’re at it. Just $5/month.<!-- --> <a href="https://medium.com/membership?source=post_page-----9e2968e6f385----------------------" class="dc dd bb bc bd be bf bg bh bi bl bm qd qe qm" rel="noopener">Upgrade</a></span></div></div></div><div class="n o gn"><a href="https://medium.com/?source=post_page-----9e2968e6f385----------------------" class="dc dd bb bc bd be bf bg bh bi qb qc bl bm qd qe" rel="noopener"><svg height="22" width="112" viewBox="0 0 111.5 22" class="qg"><path d="M56.3 19.5c0 .4 0 .5.3.7l1.5 1.4v.1h-6.5V19c-.7 1.8-2.4 3-4.3 3-3.3 0-5.8-2.6-5.8-7.5 0-4.5 2.6-7.6 6.3-7.6 1.6-.1 3.1.8 3.8 2.4V3.2c0-.3-.1-.6-.3-.7l-1.4-1.4V1l6.5-.8v19.3zm-4.8-.8V9.5c-.5-.6-1.2-.9-1.9-.9-1.6 0-3.1 1.4-3.1 5.7 0 4 1.3 5.4 3 5.4.8.1 1.6-.3 2-1zm9.1 3.1V9.4c0-.3-.1-.6-.3-.7l-1.4-1.5v-.1h6.5v12.5c0 .4 0 .5.3.7l1.4 1.4v.1h-6.5zm-.2-19.2C60.4 1.2 61.5 0 63 0c1.4 0 2.6 1.2 2.6 2.6S64.4 5.3 63 5.3a2.6 2.6 0 0 1-2.6-2.7zm22.5 16.9c0 .4 0 .5.3.7l1.5 1.4v.1h-6.5v-3.2c-.6 2-2.4 3.4-4.5 3.4-2.9 0-4.4-2.1-4.4-6.2 0-1.9 0-4.1.1-6.5 0-.3-.1-.5-.3-.7L67.7 7v.1H74v8c0 2.6.4 4.4 2 4.4.9-.1 1.7-.6 2.1-1.3V9.5c0-.3-.1-.6-.3-.7l-1.4-1.5v-.2h6.5v12.4zm22 2.3c0-.5.1-6.5.1-7.9 0-2.6-.4-4.5-2.2-4.5-.9 0-1.8.5-2.3 1.3.2.8.3 1.7.3 2.5 0 1.8-.1 4.2-.1 6.5 0 .3.1.5.3.7l1.5 1.4v.1H96c0-.4.1-6.5.1-7.9 0-2.7-.4-4.5-2.2-4.5-.9 0-1.7.5-2.2 1.3v9c0 .4 0 .5.3.7l1.4 1.4v.1h-6.5V9.5c0-.3-.1-.6-.3-.7l-1.4-1.5v-.2h6.5v3.1a4.6 4.6 0 0 1 4.6-3.4c2.2 0 3.6 1.2 4.2 3.5.7-2.1 2.7-3.6 4.9-3.5 2.9 0 4.5 2.2 4.5 6.2 0 1.9-.1 4.2-.1 6.5-.1.3.1.6.3.7l1.4 1.4v.1h-6.6zm-81.4-2l1.9 1.9v.1h-9.8v-.1l2-1.9c.2-.2.3-.4.3-.7V7.3c0-.5 0-1.2.1-1.8L11.4 22h-.1L4.5 6.8c-.1-.4-.2-.4-.3-.6v10c-.1.7 0 1.3.3 1.9l2.7 3.6v.1H0v-.1L2.7 18c.3-.6.4-1.3.3-1.9v-11c0-.5-.1-1.1-.5-1.5L.7 1.1V1h7l5.8 12.9L18.6 1h6.8v.1l-1.9 2.2c-.2.2-.3.5-.3.7v15.2c0 .2.1.5.3.6zm7.6-5.9c0 3.8 1.9 5.3 4.2 5.3 1.9.1 3.6-1 4.4-2.7h.1c-.8 3.7-3.1 5.5-6.5 5.5-3.7 0-7.2-2.2-7.2-7.4 0-5.5 3.5-7.6 7.3-7.6 3.1 0 6.4 1.5 6.4 6.2v.8h-8.7zm0-.8h4.3v-.8c0-3.9-.8-4.9-2-4.9-1.4.1-2.3 1.6-2.3 5.7z"></path></svg></a><span class="as b at au av aw r qk ql"><div class="qo qp n gn qq an"><a href="https://medium.com/about?autoplay=1&amp;source=post_page-----9e2968e6f385----------------------" class="dc dd bb bc bd be bf bg bh bi hc bl bm qd qe" rel="noopener">About</a><a href="https://help.medium.com/?source=post_page-----9e2968e6f385----------------------" class="dc dd bb bc bd be bf bg bh bi hc bl bm qd qe" rel="noopener">Help</a><a href="https://medium.com/policy/9db0094a1e0f?source=post_page-----9e2968e6f385----------------------" class="dc dd bb bc bd be bf bg bh bi hc bl bm qd qe" rel="noopener">Legal</a></div></span></div></section></div></div></div><script src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/16180790160.js"></script><script>window.__BUILD_ID__ = "development"</script><script>window.__GRAPHQL_URI__ = "https://towardsdatascience.com/_/graphql"</script><script>window.__PRELOADED_STATE__ = {"config":{"nodeEnv":"production","version":"master-20200127-204049-20ca119937","productName":"Medium","publicUrl":"https:\u002F\u002Fcdn-client.medium.com\u002Flite","authDomain":"medium.com","authGoogleClientId":"216296035834-k1k6qe060s2tp2a2jam4ljdcms00sttg.apps.googleusercontent.com","favicon":"production","glyphUrl":"https:\u002F\u002Fglyph.medium.com","branchKey":"key_live_ofxXr2qTrrU9NqURK8ZwEhknBxiI6KBm","lightStep":{"name":"lite-web","host":"collector-medium.lightstep.com","token":"ce5be895bef60919541332990ac9fef2","appVersion":"master-20200127-204049-20ca119937"},"algolia":{"appId":"MQ57UUUQZ2","apiKeySearch":"394474ced050e3911ae2249ecc774921","indexPrefix":"medium_","host":"-dsn.algolia.net"},"recaptchaKey":"6Lfc37IUAAAAAKGGtC6rLS13R1Hrw_BqADfS1LRk","sentry":{"dsn":"https:\u002F\u002F589e367c28ca47b195ce200d1507d18b@sentry.io\u002F1423575","environment":"production"},"isAmp":false,"googleAnalyticsCode":"UA-24232453-2","signInWallCustomDomainCollectionIds":["3a8144eabfe3","336d898217ee","61061eb0c96b","138adf9c44c","819cc2aaeee0"],"mediumOwnedAndOperatedCollectionIds":["544c7006046e","bcc38c8f6edf","444d13b52878","8d6b8a439e32","92d2092dc598","1285ba81cada","cb8577c9149e","8ccfed20cbb2","ae2a65f35510","3f6ecf56618","7b6769f2748b","fc8964313712","ef8e90590e66","191186aaafa0","d944778ce714","bdc4052bbdba","88d9857e584e"],"tierOneDomains":["medium.com","thebolditalic.com","arcdigital.media","towardsdatascience.com","uxdesign.cc","codeburst.io","psiloveyou.xyz","writingcooperative.com","entrepreneurshandbook.co","prototypr.io","betterhumans.coach.me","theascent.pub"],"defaultImages":{"avatar":{"imageId":"1*dmbNkD5D-u45r44go_cf0g.png","height":150,"width":150},"orgLogo":{"imageId":"1*OMF3fSqH8t4xBJ9-6oZDZw.png","height":106,"width":545},"postLogo":{"imageId":"1*3sela1OADrJr7dJk_CXaEQ.png","height":810,"width":1440}},"performanceTags":[]},"debug":{"requestId":"9d32f1fa-6631-4ff8-ac24-84a1c5604af2","originalSpanCarrier":{"ot-tracer-spanid":"59c90c340c5a4a39","ot-tracer-traceid":"4af601137e16ead1","ot-tracer-sampled":"true"}},"session":{"user":{"id":"lo_bbdc2bbdc4c"},"xsrf":""},"stats":{"itemCount":0,"sending":false,"timeout":null,"backup":{}},"navigation":{"showBranchBanner":null,"hasRenderedBranchBanner":null,"hideGoogleOneTap":false,"hasRenderedGoogleOneTap":null,"branchData":{"loaded":false},"currentLocation":"https:\u002F\u002Ftowardsdatascience.com\u002Fml-impossible-train-a-1-billion-sample-model-in-20-minutes-with-vaex-and-scikit-learn-on-your-9e2968e6f385","host":"towardsdatascience.com","hostname":"towardsdatascience.com","referrer":"https:\u002F\u002Fwww.linkedin.com\u002Fposts\u002Ftowards-data-science_ml-impossible-train-a-1-billion-sample-model-activity-6625772902530850816-Evtx\u002F","susiModal":{"step":null,"operation":"register","reportEventInfo":{"eventName":"","data":{}}}},"client":{"isBot":false,"isEu":false,"isLinkedin":false,"isNativeMedium":false,"isCustomDomain":true},"multiVote":{"clapsPerPost":{}},"metadata":{"faviconImageId":null}}</script><script>window.__APOLLO_STATE__ = {"ROOT_QUERY":{"viewer":null,"meterPost({\"postId\":\"9e2968e6f385\",\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fwww.linkedin.com\u002Fposts\u002Ftowards-data-science_ml-impossible-train-a-1-billion-sample-model-activity-6625772902530850816-Evtx\u002F\"}})":{"type":"id","generated":false,"id":"MeteringInfo:singleton","typename":"MeteringInfo"},"postResult({\"id\":\"9e2968e6f385\"})":{"type":"id","generated":false,"id":"Post:9e2968e6f385","typename":"Post"},"variantFlags":[{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.0","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.1","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.2","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.3","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.4","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.5","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.6","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.7","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.8","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.9","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.10","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.11","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.12","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.13","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.14","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.15","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.16","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.17","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.18","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.19","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.20","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.21","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.22","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.23","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.24","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.25","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.26","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.27","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.28","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.29","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.30","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.31","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.32","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.33","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.34","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.35","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.36","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.37","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.38","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.39","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.40","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.41","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.42","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.43","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.44","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.45","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.46","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.47","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.48","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.49","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.50","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.51","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.52","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.53","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.54","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.55","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.56","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.57","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.58","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.59","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.60","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.61","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.62","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.63","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.64","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.65","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.66","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.67","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.68","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.69","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.70","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.71","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.72","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.73","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.74","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.75","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.76","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.77","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.78","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.79","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.80","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.81","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.82","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.83","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.84","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.85","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.86","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.87","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.88","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.89","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.90","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.91","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.92","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.93","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.94","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.95","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.96","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.97","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.98","typename":"VariantFlag"}]},"MeteringInfo:singleton":{"__typename":"MeteringInfo","postIds":{"type":"json","json":[]},"maxUnlockCount":3,"unlocksRemaining":3},"Post:9e2968e6f385":{"__typename":"Post","visibility":"PUBLIC","latestPublishedVersion":"95a3df999a84","collection":{"type":"id","generated":false,"id":"Collection:7f60cf5620c9","typename":"Collection"},"id":"9e2968e6f385","creator":{"type":"id","generated":false,"id":"User:3bd573100d67","typename":"User"},"isLocked":false,"lockedSource":"LOCKED_POST_SOURCE_NONE","sequence":null,"mediumUrl":"https:\u002F\u002Ftowardsdatascience.com\u002Fml-impossible-train-a-1-billion-sample-model-in-20-minutes-with-vaex-and-scikit-learn-on-your-9e2968e6f385","canonicalUrl":"","content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fwww.linkedin.com\u002Fposts\u002Ftowards-data-science_ml-impossible-train-a-1-billion-sample-model-activity-6625772902530850816-Evtx\u002F\"}})":{"type":"id","generated":true,"id":"$Post:9e2968e6f385.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fwww.linkedin.com\u002Fposts\u002Ftowards-data-science_ml-impossible-train-a-1-billion-sample-model-activity-6625772902530850816-Evtx\u002F\"}})","typename":"PostContent"},"firstPublishedAt":1579704675743,"isPublished":true,"layerCake":3,"primaryTopic":{"type":"id","generated":false,"id":"data-science","typename":"Topic"},"title":"ML impossible: train a 1 billion sample model in 5 minutes with vaex and scikit-learn on your…","isLimitedState":false,"pendingCollection":null,"shareKey":null,"statusForCollection":"APPROVED","readingTime":14.687735849056605,"readingList":"READING_LIST_NONE","license":"ALL_RIGHTS_RESERVED","allowResponses":true,"tags":[{"type":"id","generated":false,"id":"Tag:data-science","typename":"Tag"},{"type":"id","generated":false,"id":"Tag:machine-learning","typename":"Tag"},{"type":"id","generated":false,"id":"Tag:scikit-learn","typename":"Tag"},{"type":"id","generated":false,"id":"Tag:vaex","typename":"Tag"},{"type":"id","generated":false,"id":"Tag:big-data","typename":"Tag"}],"viewerClapCount":0,"clapCount":653,"voterCount":83,"recommenders":[],"responsesCount":0,"collaborators":[{"type":"id","generated":false,"id":"Collaborator:9e2968e6f385-b8a6decc0862","typename":"Collaborator"},{"type":"id","generated":false,"id":"Collaborator:9e2968e6f385-eba261287b37","typename":"Collaborator"},{"type":"id","generated":false,"id":"Collaborator:9e2968e6f385-895063a310f4","typename":"Collaborator"}],"translationSourcePost":null,"newsletterId":"","inResponseToPostResult":null,"inResponseToMediaResource":null,"curationEligibleAt":0,"isDistributionAlertDismissed":false,"audioVersionUrl":"","seoTitle":"","socialTitle":"","socialDek":"","metaDescription":"","latestPublishedAt":1579709381353,"previewContent":{"type":"id","generated":true,"id":"$Post:9e2968e6f385.previewContent","typename":"PreviewContent"},"previewImage":{"type":"id","generated":false,"id":"ImageMetadata:1*h2AULwOK8hDOy7-EwtB-3Q.jpeg","typename":"ImageMetadata"},"updatedAt":1579709383867,"topics":[{"type":"id","generated":false,"id":"machine-learning","typename":"Topic"},{"type":"id","generated":false,"id":"data-science","typename":"Topic"}],"seoDescription":"","isSuspended":false},"Collection:7f60cf5620c9":{"id":"7f60cf5620c9","domain":"towardsdatascience.com","slug":"towards-data-science","__typename":"Collection","auroraAlphaEnabled":false,"googleAnalyticsId":"UA-19707169-24","colorBehavior":"ACCENT_COLOR_AND_FILL_BACKGROUND","name":"Towards Data Science","logo":{"type":"id","generated":false,"id":"ImageMetadata:1*mG6i4Bh_LgixUYXJgQpYsg@2x.png","typename":"ImageMetadata"},"avatar":{"type":"id","generated":false,"id":"ImageMetadata:1*hVxgUA6kP-PgL5TJjuyePg.png","typename":"ImageMetadata"},"isEnrolledInHightower":false,"creator":{"type":"id","generated":false,"id":"User:895063a310f4","typename":"User"},"viewerIsEditor":false,"navItems":[{"type":"id","generated":true,"id":"Collection:7f60cf5620c9.navItems.0","typename":"NavItem"},{"type":"id","generated":true,"id":"Collection:7f60cf5620c9.navItems.1","typename":"NavItem"},{"type":"id","generated":true,"id":"Collection:7f60cf5620c9.navItems.2","typename":"NavItem"},{"type":"id","generated":true,"id":"Collection:7f60cf5620c9.navItems.3","typename":"NavItem"},{"type":"id","generated":true,"id":"Collection:7f60cf5620c9.navItems.4","typename":"NavItem"},{"type":"id","generated":true,"id":"Collection:7f60cf5620c9.navItems.5","typename":"NavItem"},{"type":"id","generated":true,"id":"Collection:7f60cf5620c9.navItems.6","typename":"NavItem"},{"type":"id","generated":true,"id":"Collection:7f60cf5620c9.navItems.7","typename":"NavItem"}],"colorPalette":{"type":"id","generated":true,"id":"$Collection:7f60cf5620c9.colorPalette","typename":"ColorPalette"},"viewerCanEditOwnPosts":false,"viewerCanEditPosts":false,"description":"A Medium publication sharing concepts, ideas, and codes.","viewerIsFollowing":false,"viewerIsSubscribedToLetters":false,"isUserSubscribedToCollectionEmails":false,"ampEnabled":false,"twitterUsername":"TDataScience","facebookPageId":null,"favicon":{"type":"id","generated":false,"id":"ImageMetadata:1*ChFMdf--f5jbm-AYv6VdYA@2x.png","typename":"ImageMetadata"}},"User:3bd573100d67":{"id":"3bd573100d67","__typename":"User","isSuspended":false,"allowNotes":true,"name":"Jovan Veljanoski","isFollowing":false,"username":"jovan.veljanoski","bio":"Senior data scientist at XebiaLabs | co-founder of vaex.io | PhD Astrophysics | https:\u002F\u002Fwww.linkedin.com\u002Fin\u002Fjovanvel\u002F","imageId":"2*gTwAq1SkQ3mii7TYg4w_1w.jpeg","mediumMemberAt":0,"isBlocking":false,"isPartnerProgramEnrolled":false,"twitterScreenName":""},"ImageMetadata:1*mG6i4Bh_LgixUYXJgQpYsg@2x.png":{"id":"1*mG6i4Bh_LgixUYXJgQpYsg@2x.png","originalWidth":337,"originalHeight":122,"__typename":"ImageMetadata"},"ImageMetadata:1*hVxgUA6kP-PgL5TJjuyePg.png":{"id":"1*hVxgUA6kP-PgL5TJjuyePg.png","__typename":"ImageMetadata"},"User:895063a310f4":{"id":"895063a310f4","__typename":"User","name":"Ludovic Benistant"},"Collection:7f60cf5620c9.navItems.0":{"title":"Data Science","url":"https:\u002F\u002Ftowardsdatascience.com\u002Fdata-science\u002Fhome","type":"TOPIC_PAGE","__typename":"NavItem"},"Collection:7f60cf5620c9.navItems.1":{"title":"Machine Learning","url":"https:\u002F\u002Ftowardsdatascience.com\u002Fmachine-learning\u002Fhome","type":"TOPIC_PAGE","__typename":"NavItem"},"Collection:7f60cf5620c9.navItems.2":{"title":"Programming","url":"https:\u002F\u002Ftowardsdatascience.com\u002Fprogramming\u002Fhome","type":"TOPIC_PAGE","__typename":"NavItem"},"Collection:7f60cf5620c9.navItems.3":{"title":"Visualization","url":"https:\u002F\u002Ftowardsdatascience.com\u002Fdata-visualization\u002Fhome","type":"TOPIC_PAGE","__typename":"NavItem"},"Collection:7f60cf5620c9.navItems.4":{"title":"AI","url":"https:\u002F\u002Ftowardsdatascience.com\u002Fartificial-intelligence\u002Fhome","type":"TOPIC_PAGE","__typename":"NavItem"},"Collection:7f60cf5620c9.navItems.5":{"title":"Picks","url":"https:\u002F\u002Ftowardsdatascience.com\u002Four-picks\u002Fhome","type":"TOPIC_PAGE","__typename":"NavItem"},"Collection:7f60cf5620c9.navItems.6":{"title":"More","url":"https:\u002F\u002Ftowardsdatascience.com\u002Fmore\u002Fhome","type":"TOPIC_PAGE","__typename":"NavItem"},"Collection:7f60cf5620c9.navItems.7":{"title":"Contribute","url":"https:\u002F\u002Ftowardsdatascience.com\u002Fcontribute\u002Fhome","type":"EXTERNAL_LINK_NAV_ITEM","__typename":"NavItem"},"$Collection:7f60cf5620c9.colorPalette.tintBackgroundSpectrum":{"backgroundColor":"#FF355876","colorPoints":[{"type":"id","generated":true,"id":"$Collection:7f60cf5620c9.colorPalette.tintBackgroundSpectrum.colorPoints.0","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:7f60cf5620c9.colorPalette.tintBackgroundSpectrum.colorPoints.1","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:7f60cf5620c9.colorPalette.tintBackgroundSpectrum.colorPoints.2","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:7f60cf5620c9.colorPalette.tintBackgroundSpectrum.colorPoints.3","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:7f60cf5620c9.colorPalette.tintBackgroundSpectrum.colorPoints.4","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:7f60cf5620c9.colorPalette.tintBackgroundSpectrum.colorPoints.5","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:7f60cf5620c9.colorPalette.tintBackgroundSpectrum.colorPoints.6","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:7f60cf5620c9.colorPalette.tintBackgroundSpectrum.colorPoints.7","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:7f60cf5620c9.colorPalette.tintBackgroundSpectrum.colorPoints.8","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:7f60cf5620c9.colorPalette.tintBackgroundSpectrum.colorPoints.9","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:7f60cf5620c9.colorPalette.tintBackgroundSpectrum.colorPoints.10","typename":"ColorPoint"}],"__typename":"ColorSpectrum"},"$Collection:7f60cf5620c9.colorPalette.tintBackgroundSpectrum.colorPoints.0":{"color":"#FF355876","point":0,"__typename":"ColorPoint"},"$Collection:7f60cf5620c9.colorPalette.tintBackgroundSpectrum.colorPoints.1":{"color":"#FF4D6C88","point":0.1,"__typename":"ColorPoint"},"$Collection:7f60cf5620c9.colorPalette.tintBackgroundSpectrum.colorPoints.2":{"color":"#FF637F99","point":0.2,"__typename":"ColorPoint"},"$Collection:7f60cf5620c9.colorPalette.tintBackgroundSpectrum.colorPoints.3":{"color":"#FF7791A8","point":0.3,"__typename":"ColorPoint"},"$Collection:7f60cf5620c9.colorPalette.tintBackgroundSpectrum.colorPoints.4":{"color":"#FF8CA2B7","point":0.4,"__typename":"ColorPoint"},"$Collection:7f60cf5620c9.colorPalette.tintBackgroundSpectrum.colorPoints.5":{"color":"#FF9FB3C6","point":0.5,"__typename":"ColorPoint"},"$Collection:7f60cf5620c9.colorPalette.tintBackgroundSpectrum.colorPoints.6":{"color":"#FFB2C3D4","point":0.6,"__typename":"ColorPoint"},"$Collection:7f60cf5620c9.colorPalette.tintBackgroundSpectrum.colorPoints.7":{"color":"#FFC5D2E1","point":0.7,"__typename":"ColorPoint"},"$Collection:7f60cf5620c9.colorPalette.tintBackgroundSpectrum.colorPoints.8":{"color":"#FFD7E2EE","point":0.8,"__typename":"ColorPoint"},"$Collection:7f60cf5620c9.colorPalette.tintBackgroundSpectrum.colorPoints.9":{"color":"#FFE9F1FA","point":0.9,"__typename":"ColorPoint"},"$Collection:7f60cf5620c9.colorPalette.tintBackgroundSpectrum.colorPoints.10":{"color":"#FFFBFFFF","point":1,"__typename":"ColorPoint"},"$Collection:7f60cf5620c9.colorPalette":{"tintBackgroundSpectrum":{"type":"id","generated":true,"id":"$Collection:7f60cf5620c9.colorPalette.tintBackgroundSpectrum","typename":"ColorSpectrum"},"__typename":"ColorPalette","defaultBackgroundSpectrum":{"type":"id","generated":true,"id":"$Collection:7f60cf5620c9.colorPalette.defaultBackgroundSpectrum","typename":"ColorSpectrum"},"highlightSpectrum":{"type":"id","generated":true,"id":"$Collection:7f60cf5620c9.colorPalette.highlightSpectrum","typename":"ColorSpectrum"}},"$Collection:7f60cf5620c9.colorPalette.defaultBackgroundSpectrum":{"backgroundColor":"#FFFFFFFF","colorPoints":[{"type":"id","generated":true,"id":"$Collection:7f60cf5620c9.colorPalette.defaultBackgroundSpectrum.colorPoints.0","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:7f60cf5620c9.colorPalette.defaultBackgroundSpectrum.colorPoints.1","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:7f60cf5620c9.colorPalette.defaultBackgroundSpectrum.colorPoints.2","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:7f60cf5620c9.colorPalette.defaultBackgroundSpectrum.colorPoints.3","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:7f60cf5620c9.colorPalette.defaultBackgroundSpectrum.colorPoints.4","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:7f60cf5620c9.colorPalette.defaultBackgroundSpectrum.colorPoints.5","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:7f60cf5620c9.colorPalette.defaultBackgroundSpectrum.colorPoints.6","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:7f60cf5620c9.colorPalette.defaultBackgroundSpectrum.colorPoints.7","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:7f60cf5620c9.colorPalette.defaultBackgroundSpectrum.colorPoints.8","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:7f60cf5620c9.colorPalette.defaultBackgroundSpectrum.colorPoints.9","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:7f60cf5620c9.colorPalette.defaultBackgroundSpectrum.colorPoints.10","typename":"ColorPoint"}],"__typename":"ColorSpectrum"},"$Collection:7f60cf5620c9.colorPalette.defaultBackgroundSpectrum.colorPoints.0":{"color":"#FF668AAA","point":0,"__typename":"ColorPoint"},"$Collection:7f60cf5620c9.colorPalette.defaultBackgroundSpectrum.colorPoints.1":{"color":"#FF61809D","point":0.1,"__typename":"ColorPoint"},"$Collection:7f60cf5620c9.colorPalette.defaultBackgroundSpectrum.colorPoints.2":{"color":"#FF5A7690","point":0.2,"__typename":"ColorPoint"},"$Collection:7f60cf5620c9.colorPalette.defaultBackgroundSpectrum.colorPoints.3":{"color":"#FF546C83","point":0.3,"__typename":"ColorPoint"},"$Collection:7f60cf5620c9.colorPalette.defaultBackgroundSpectrum.colorPoints.4":{"color":"#FF4D6275","point":0.4,"__typename":"ColorPoint"},"$Collection:7f60cf5620c9.colorPalette.defaultBackgroundSpectrum.colorPoints.5":{"color":"#FF455768","point":0.5,"__typename":"ColorPoint"},"$Collection:7f60cf5620c9.colorPalette.defaultBackgroundSpectrum.colorPoints.6":{"color":"#FF3D4C5A","point":0.6,"__typename":"ColorPoint"},"$Collection:7f60cf5620c9.colorPalette.defaultBackgroundSpectrum.colorPoints.7":{"color":"#FF34414C","point":0.7,"__typename":"ColorPoint"},"$Collection:7f60cf5620c9.colorPalette.defaultBackgroundSpectrum.colorPoints.8":{"color":"#FF2B353E","point":0.8,"__typename":"ColorPoint"},"$Collection:7f60cf5620c9.colorPalette.defaultBackgroundSpectrum.colorPoints.9":{"color":"#FF21282F","point":0.9,"__typename":"ColorPoint"},"$Collection:7f60cf5620c9.colorPalette.defaultBackgroundSpectrum.colorPoints.10":{"color":"#FF161B1F","point":1,"__typename":"ColorPoint"},"$Collection:7f60cf5620c9.colorPalette.highlightSpectrum":{"backgroundColor":"#FFFFFFFF","colorPoints":[{"type":"id","generated":true,"id":"$Collection:7f60cf5620c9.colorPalette.highlightSpectrum.colorPoints.0","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:7f60cf5620c9.colorPalette.highlightSpectrum.colorPoints.1","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:7f60cf5620c9.colorPalette.highlightSpectrum.colorPoints.2","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:7f60cf5620c9.colorPalette.highlightSpectrum.colorPoints.3","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:7f60cf5620c9.colorPalette.highlightSpectrum.colorPoints.4","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:7f60cf5620c9.colorPalette.highlightSpectrum.colorPoints.5","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:7f60cf5620c9.colorPalette.highlightSpectrum.colorPoints.6","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:7f60cf5620c9.colorPalette.highlightSpectrum.colorPoints.7","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:7f60cf5620c9.colorPalette.highlightSpectrum.colorPoints.8","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:7f60cf5620c9.colorPalette.highlightSpectrum.colorPoints.9","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:7f60cf5620c9.colorPalette.highlightSpectrum.colorPoints.10","typename":"ColorPoint"}],"__typename":"ColorSpectrum"},"$Collection:7f60cf5620c9.colorPalette.highlightSpectrum.colorPoints.0":{"color":"#FFEDF4FC","point":0,"__typename":"ColorPoint"},"$Collection:7f60cf5620c9.colorPalette.highlightSpectrum.colorPoints.1":{"color":"#FFE9F2FD","point":0.1,"__typename":"ColorPoint"},"$Collection:7f60cf5620c9.colorPalette.highlightSpectrum.colorPoints.2":{"color":"#FFE6F1FD","point":0.2,"__typename":"ColorPoint"},"$Collection:7f60cf5620c9.colorPalette.highlightSpectrum.colorPoints.3":{"color":"#FFE2EFFD","point":0.3,"__typename":"ColorPoint"},"$Collection:7f60cf5620c9.colorPalette.highlightSpectrum.colorPoints.4":{"color":"#FFDFEEFD","point":0.4,"__typename":"ColorPoint"},"$Collection:7f60cf5620c9.colorPalette.highlightSpectrum.colorPoints.5":{"color":"#FFDBECFE","point":0.5,"__typename":"ColorPoint"},"$Collection:7f60cf5620c9.colorPalette.highlightSpectrum.colorPoints.6":{"color":"#FFD7EBFE","point":0.6,"__typename":"ColorPoint"},"$Collection:7f60cf5620c9.colorPalette.highlightSpectrum.colorPoints.7":{"color":"#FFD4E9FE","point":0.7,"__typename":"ColorPoint"},"$Collection:7f60cf5620c9.colorPalette.highlightSpectrum.colorPoints.8":{"color":"#FFD0E7FF","point":0.8,"__typename":"ColorPoint"},"$Collection:7f60cf5620c9.colorPalette.highlightSpectrum.colorPoints.9":{"color":"#FFCCE6FF","point":0.9,"__typename":"ColorPoint"},"$Collection:7f60cf5620c9.colorPalette.highlightSpectrum.colorPoints.10":{"color":"#FFC8E4FF","point":1,"__typename":"ColorPoint"},"$Post:9e2968e6f385.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fwww.linkedin.com\u002Fposts\u002Ftowards-data-science_ml-impossible-train-a-1-billion-sample-model-activity-6625772902530850816-Evtx\u002F\"}})":{"isLockedPreviewOnly":false,"validatedShareKey":"","__typename":"PostContent","bodyModel":{"type":"id","generated":true,"id":"$Post:9e2968e6f385.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fwww.linkedin.com\u002Fposts\u002Ftowards-data-science_ml-impossible-train-a-1-billion-sample-model-activity-6625772902530850816-Evtx\u002F\"}}).bodyModel","typename":"RichText"}},"data-science":{"name":"Data Science","slug":"data-science","__typename":"Topic","isFollowing":null},"$Post:9e2968e6f385.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fwww.linkedin.com\u002Fposts\u002Ftowards-data-science_ml-impossible-train-a-1-billion-sample-model-activity-6625772902530850816-Evtx\u002F\"}}).bodyModel.sections.0":{"name":"44b7","startIndex":0,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null,"__typename":"Section"},"$Post:9e2968e6f385.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fwww.linkedin.com\u002Fposts\u002Ftowards-data-science_ml-impossible-train-a-1-billion-sample-model-activity-6625772902530850816-Evtx\u002F\"}}).bodyModel":{"sections":[{"type":"id","generated":true,"id":"$Post:9e2968e6f385.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fwww.linkedin.com\u002Fposts\u002Ftowards-data-science_ml-impossible-train-a-1-billion-sample-model-activity-6625772902530850816-Evtx\u002F\"}}).bodyModel.sections.0","typename":"Section"}],"paragraphs":[{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_0","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_1","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_2","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_3","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_4","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_5","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_6","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_7","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_8","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_9","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_10","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_11","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_12","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_13","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_14","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_15","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_16","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_17","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_18","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_19","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_20","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_21","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_22","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_23","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_24","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_25","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_26","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_27","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_28","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_29","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_30","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_31","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_32","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_33","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_34","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_35","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_36","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_37","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_38","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_39","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_40","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_41","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_42","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_43","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_44","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_45","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_46","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_47","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_48","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_49","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_50","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_51","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_52","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_53","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_54","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_55","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_56","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_57","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_58","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_59","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_60","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_61","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_62","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_63","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_64","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_65","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_66","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_67","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_68","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_69","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_70","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_71","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_72","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_73","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_74","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_75","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_76","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_77","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_78","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_79","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_80","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_81","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_82","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_83","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_84","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_85","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:95a3df999a84_86","typename":"Paragraph"}],"__typename":"RichText"},"Paragraph:95a3df999a84_0":{"id":"95a3df999a84_0","name":"b7cc","type":"IMG","href":null,"layout":"FULL_WIDTH","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*h2AULwOK8hDOy7-EwtB-3Q.jpeg","typename":"ImageMetadata"},"text":"Tom Cruise trying to do machine learning without Vaex. (Copyright: Paramount Pictures)","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*h2AULwOK8hDOy7-EwtB-3Q.jpeg":{"id":"1*h2AULwOK8hDOy7-EwtB-3Q.jpeg","originalHeight":1536,"originalWidth":2560,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:95a3df999a84_1":{"id":"95a3df999a84_1","name":"14a3","type":"H3","href":null,"layout":null,"metadata":null,"text":"ML impossible: Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_2":{"id":"95a3df999a84_2","name":"a213","type":"H4","href":null,"layout":null,"metadata":null,"text":"Make your laptop feel like a supercomputer.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_3":{"id":"95a3df999a84_3","name":"0c20","type":"P","href":null,"layout":null,"metadata":null,"text":"“Data is the new oil.” Regardless of whether or not you agree with this statement, the race for gathering and exploiting data has been going on for a while now. In fact, one thing the tech giants of today have in common, is their capacity to fully exploit the enormous quantity of data they gather. They have the knowledge, manpower, and resources to analyse billions of data points, train and deploy a variety of machine learning models at scale, which then impacts countless people across our planet.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_4":{"id":"95a3df999a84_4","name":"696d","type":"P","href":null,"layout":null,"metadata":null,"text":"Creating even a simple machine learning service is a non-trivial task. Even if we ignore the data gathering and augmentation steps, one still needs to understand the data, clean it appropriately, create meaningful features, and then train and tune a model. This is followed by a series of validation steps which hopefully lead to a better understanding of both the data and the model. The process is repeated until the model satisfies the business goals, after which it is put in production. In practice, however, the process may continue indefinitely.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_5":{"id":"95a3df999a84_5","name":"21ed","type":"P","href":null,"layout":null,"metadata":null,"text":"Imagine that we have a dataset containing over 1 billion samples, which we need to use for training of a machine learning model. Due to the sheer amount alone, exploring such dataset already becomes tricky, while iterating on the cleaning, pre-processing and training steps becomes a daunting task. Challenges such as these are commonly tackled with distributed or cloud computing. While this is the standard approach today, it can be quite costly, time-consuming, and simply less convenient compared to working on your local machine.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_5.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_5.markups.0":{"type":"EM","start":47,"end":56,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_6":{"id":"95a3df999a84_6","name":"d79a","type":"P","href":null,"layout":null,"metadata":null,"text":"In this article, I will demonstrate how anyone can train a machine learning model on a billion samples in a swift and efficient manner. Your laptop is all the infrastructure you need. Just make sure it is plugged in.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_7":{"id":"95a3df999a84_7","name":"f95b","type":"H4","href":null,"layout":null,"metadata":null,"text":"The problem: predict taxi trip duration","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_8":{"id":"95a3df999a84_8","name":"a851","type":"P","href":null,"layout":null,"metadata":null,"text":"As an example, assume we would like to help a taxi company predict how long a trip may take in New York City. We will use the New York City Taxi dataset, which contains information on over 1 billion taxi trips conducted between 2009 and 2015 by the recognizable Yellow Taxis. In its raw form, the data is provided by the New York City Taxi & Limousine Commission (TLC), and can be downloaded from their website. If you are simply interested in the Jupyter notebook used as the basis for this article, you can click here.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_8.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_8.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_8.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_8.markups.3","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_8.markups.0":{"type":"A","start":381,"end":410,"href":"https:\u002F\u002Fwww1.nyc.gov\u002Fsite\u002Ftlc\u002Fabout\u002Ftlc-trip-record-data.page","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_8.markups.1":{"type":"A","start":509,"end":519,"href":"https:\u002F\u002Fnbviewer.jupyter.org\u002Fgithub\u002Fvaexio\u002Fvaex-examples\u002Fblob\u002Fmaster\u002Fmedium-nyc-taxi-data-ml\u002Fvaex-taxi-ml-article.ipynb","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_8.markups.2":{"type":"EM","start":189,"end":198,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_8.markups.3":{"type":"EM","start":412,"end":520,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_9":{"id":"95a3df999a84_9","name":"82c7","type":"H4","href":null,"layout":null,"metadata":null,"text":"Data preparation with Vaex","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_10":{"id":"95a3df999a84_10","name":"1609","type":"P","href":null,"layout":null,"metadata":null,"text":"In order to manipulate the large amount of data, we will use Vaex, a Python open-source DataFrame library. Leveraging concepts like memory mapping, lazy evaluations and efficient out-of-core algorithms, Vaex can easily handle datasets that would otherwise be too large to fit in RAM.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_10.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_10.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_10.markups.0":{"type":"A","start":61,"end":65,"href":"https:\u002F\u002Fgithub.com\u002Fvaexio\u002Fvaex","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_10.markups.1":{"type":"A","start":76,"end":105,"href":"https:\u002F\u002Ftowardsdatascience.com\u002Fvaex-out-of-core-dataframes-for-python-and-fast-visualization-12c102db044a?","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_11":{"id":"95a3df999a84_11","name":"5433","type":"P","href":null,"layout":null,"metadata":null,"text":"Let’s get started by opening the data. For convenience, I’ve combined the 7 year of taxi data into a single HDF5 file. Even though the file is larger than 100GB on disk, opening it with Vaex is instantaneous:","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_11.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_11.markups.0":{"type":"A","start":108,"end":112,"href":"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FHierarchical_Data_Format#HDF5","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_12":{"id":"95a3df999a84_12","name":"534c","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*bGfi8RWKpGoQdqgoVGmpOg.png","typename":"ImageMetadata"},"text":"Opening an memory-mapped file is instant (119 ms!) with Vaex. If you don’t have it locally, you can lazily stream it from AWS.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_12.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*bGfi8RWKpGoQdqgoVGmpOg.png":{"id":"1*bGfi8RWKpGoQdqgoVGmpOg.png","originalHeight":586,"originalWidth":2628,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:95a3df999a84_12.markups.0":{"type":"A","start":56,"end":60,"href":"https:\u002F\u002Fgithub.com\u002Fvaexio\u002Fvaex","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_13":{"id":"95a3df999a84_13","name":"1d48","type":"P","href":null,"layout":null,"metadata":null,"text":"Inspecting the data is just as fast. Since the data is memory-mapped, Vaex knows immediately where to look, reading only the portions that are needed. For a simple preview as shown below, only the first and last 5 rows are read from disk.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_14":{"id":"95a3df999a84_14","name":"5db3","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*nO98lAWSriM6Gk8NYKzG7A.png","typename":"ImageMetadata"},"text":"A preview of the Taxi Dataset. Only the first and last 5 rows are actually read from disk.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*nO98lAWSriM6Gk8NYKzG7A.png":{"id":"1*nO98lAWSriM6Gk8NYKzG7A.png","originalHeight":1408,"originalWidth":2630,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:95a3df999a84_15":{"id":"95a3df999a84_15","name":"65bc","type":"P","href":null,"layout":null,"metadata":null,"text":"Working with the New York Taxi dataset is rather straightforward with Vaex, despite being over 100GB on disk and containing more than 1.1 billion records. This article goes over the Vaex fundamentals, and presents an exploratory data analysis of this very same dataset.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_15.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_15.markups.0":{"type":"A","start":155,"end":167,"href":"https:\u002F\u002Ftowardsdatascience.com\u002Fhow-to-analyse-100s-of-gbs-of-data-on-your-laptop-with-python-f83363dda94","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_16":{"id":"95a3df999a84_16","name":"e426","type":"P","href":null,"layout":null,"metadata":null,"text":"Before we get started, let us split the data into a train and a test set. We will make the split by year, such that the trips conducted in 2015 will comprise the test set, and all prior to that will make up the training set. The dataset is ordered by year, so we can do the splitting by simply slicing the DataFrame.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_17":{"id":"95a3df999a84_17","name":"de54","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*BBnx__c14HtMXeZYWV2NuA.png","typename":"ImageMetadata"},"text":"Create train and test sets. Slicing of a Vaex DataFrame does not copy the data, but only creates a reference.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*BBnx__c14HtMXeZYWV2NuA.png":{"id":"1*BBnx__c14HtMXeZYWV2NuA.png","originalHeight":642,"originalWidth":2632,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:95a3df999a84_18":{"id":"95a3df999a84_18","name":"b386","type":"P","href":null,"layout":null,"metadata":null,"text":"Note that no memory copies of the data are made by executing the above code cell. Slicing a Vaex DataFrame results in a shallow copy, which only references the appropriate portions of the original data.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_19":{"id":"95a3df999a84_19","name":"bc44","type":"H4","href":null,"layout":null,"metadata":null,"text":"Data wrangling","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_20":{"id":"95a3df999a84_20","name":"5f35","type":"P","href":null,"layout":null,"metadata":null,"text":"The goal of this exercise is to predict the likely duration of a taxi trip. The duration of a trip is not readily available in the dataset, but it is trivial to calculate from the pick-up and drop-off time-stamps.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_21":{"id":"95a3df999a84_21","name":"38ba","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*D1551hYcgzIZtUjGB3M3tg.png","typename":"ImageMetadata"},"text":"Creating a new column out of existing columns costs no extra memory, and is instant.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*D1551hYcgzIZtUjGB3M3tg.png":{"id":"1*D1551hYcgzIZtUjGB3M3tg.png","originalHeight":230,"originalWidth":2628,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:95a3df999a84_22":{"id":"95a3df999a84_22","name":"ac42","type":"P","href":null,"layout":null,"metadata":null,"text":"Calculating the trip distance in the code example above results in a virtual column. Creating such columns cost no memory, since they store just the expression that defines them, and are evaluated only when necessary.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_23":{"id":"95a3df999a84_23","name":"b7dc","type":"P","href":null,"layout":null,"metadata":null,"text":"Now, let’s filter out outliers and erroneous data samples from the training set. The exploratory data analysis presented in this article can serve as a guide on how to do this, so please check it out of if you would like to know the rationale behind these filtering choices.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_23.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_23.markups.0":{"type":"A","start":124,"end":136,"href":"https:\u002F\u002Ftowardsdatascience.com\u002Fhow-to-analyse-100s-of-gbs-of-data-on-your-laptop-with-python-f83363dda94","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_24":{"id":"95a3df999a84_24","name":"2367","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*MK6hv9CaCnFdVsiZT0yRZg.png","typename":"ImageMetadata"},"text":"Filtering out a Vaex DataFrame takes seconds and costs no extra memory, even when it numbers billion rows.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*MK6hv9CaCnFdVsiZT0yRZg.png":{"id":"1*MK6hv9CaCnFdVsiZT0yRZg.png","originalHeight":1428,"originalWidth":2632,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:95a3df999a84_25":{"id":"95a3df999a84_25","name":"4bb1","type":"P","href":null,"layout":null,"metadata":null,"text":"The main idea behind the filtering is to remove outliers and possible erroneous data inputs, so the model is not too “distracted” by the few abnormal samples. After all the filters are applied, the training set comprises “only” 812,816,595 taxi trips.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_26":{"id":"95a3df999a84_26","name":"4a5e","type":"P","href":null,"layout":null,"metadata":null,"text":"At this stage we can start to engineer some meaningful features. Since all of the features we will be virtual columns, we do not need to concern ourselves with memory usage, and thus have the freedom to experiment and get creative. Let’s begin by extracting few features from the pick-up timestamps.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_27":{"id":"95a3df999a84_27","name":"a3f4","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*7ILj2qmF32L4oGll2bJYZg.png","typename":"ImageMetadata"},"text":"Extracting some useful features from the pick-up date and time.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*7ILj2qmF32L4oGll2bJYZg.png":{"id":"1*7ILj2qmF32L4oGll2bJYZg.png","originalHeight":320,"originalWidth":2630,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:95a3df999a84_28":{"id":"95a3df999a84_28","name":"6802","type":"P","href":null,"layout":null,"metadata":null,"text":"Now, let us create a couple of more computationally demanding features. One of them is the distance between the pick-up and drop-off points, which we will call the “arc distance”. The second feature is the direction angle of the taxi trip, i.e. an indication of whether the taxi is travelling for example due north or north-west from its origin towards its destination.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_29":{"id":"95a3df999a84_29","name":"4f1b","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*QDMEER-cXJQRYicoxh1wZw.png","typename":"ImageMetadata"},"text":"The evaluation of computationally demanding expressions can be sped up by Just-In-Time compilation via Numba or CUDA.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_29.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_29.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*QDMEER-cXJQRYicoxh1wZw.png":{"id":"1*QDMEER-cXJQRYicoxh1wZw.png","originalHeight":1272,"originalWidth":2632,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:95a3df999a84_29.markups.0":{"type":"A","start":103,"end":108,"href":"http:\u002F\u002Fnumba.pydata.org\u002F","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_29.markups.1":{"type":"A","start":112,"end":116,"href":"https:\u002F\u002Fdeveloper.nvidia.com\u002Fcuda-zone","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_30":{"id":"95a3df999a84_30","name":"510b","type":"P","href":null,"layout":null,"metadata":null,"text":"Notice the .jit_numba method at the end of the function call. The evaluation of computationally expensive expressions like those defined above can be accelerated by Just-In-Time compilation via Numba. If your machine sports a more recent NVIDIA graphics card, you can use CUDA by invoking the .jit_cuda method for an extra boost. By using .jit_numba on some expressions and .jit_cuda on others, you can simultaneously leverage both your CPU and GPU for maximum performance.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_30.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_30.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_30.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_30.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_30.markups.4","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_30.markups.5","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_30.markups.0":{"type":"CODE","start":11,"end":21,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_30.markups.1":{"type":"CODE","start":293,"end":302,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_30.markups.2":{"type":"CODE","start":339,"end":349,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_30.markups.3":{"type":"CODE","start":374,"end":383,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_30.markups.4":{"type":"A","start":194,"end":199,"href":"http:\u002F\u002Fnumba.pydata.org\u002F","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_30.markups.5":{"type":"A","start":272,"end":276,"href":"https:\u002F\u002Fdeveloper.nvidia.com\u002Fcuda-zone","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_31":{"id":"95a3df999a84_31","name":"a1d6","type":"H4","href":null,"layout":null,"metadata":null,"text":"Data transformation (vaex.ml)","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_32":{"id":"95a3df999a84_32","name":"9ec0","type":"P","href":null,"layout":null,"metadata":null,"text":"Before we pass the data to any model, we need to make sure it is suitably transformed in order to get the most out of it. Vaex contains the vaex.ml package which implements a variety of common data transformations, such as PCA, categorical encoders, and numerical scalers. All transformations are invoked with the familiar scikit-learn API, are parallelised and executed out-of-core.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_32.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_32.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_32.markups.0":{"type":"CODE","start":140,"end":147,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_32.markups.1":{"type":"A","start":323,"end":335,"href":"https:\u002F\u002Fscikit-learn.org\u002Fstable\u002F","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_33":{"id":"95a3df999a84_33","name":"4700","type":"P","href":null,"layout":null,"metadata":null,"text":"Let’s focus on the pick-up and drop-off locations. In many cities in the United States the streets form a grid pattern. This is clearly visible in the Manhattan area. One idea to improve the performance of a model is to apply a set of PCA transformations on the pick-up and drop-off locations. This will cause the streets, traced by the many pick-up and drop-off points, to align with the natural geographical axes (longitude and latitude) instead of being at an angle to them.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_33.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_33.markups.0":{"type":"A","start":235,"end":238,"href":"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FPrincipal_component_analysis","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_34":{"id":"95a3df999a84_34","name":"c1e8","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*L0A-h4rvgqF6POeTYL7vzQ.png","typename":"ImageMetadata"},"text":"Fitting a couple of PCA transformers on nearly billion samples takes about half a minute with vaex.ml.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*L0A-h4rvgqF6POeTYL7vzQ.png":{"id":"1*L0A-h4rvgqF6POeTYL7vzQ.png","originalHeight":488,"originalWidth":2626,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:95a3df999a84_35":{"id":"95a3df999a84_35","name":"26bc","type":"P","href":null,"layout":null,"metadata":null,"text":"Notice that when using vaex.ml one passes the whole DataFrame to the .fit, .transform, or .fit_transform methods of a transformer, while the features on which the transformation is applied are specified while that transformer is instantiated. Most importantly, the .transform method returns a shallow copy of the DataFrame in which the result of the transformation is stored in the form of virtual columns. This makes it easy for us to visualise the results of the PCA transformations.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_35.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_35.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_35.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_35.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_35.markups.4","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_35.markups.0":{"type":"CODE","start":23,"end":30,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_35.markups.1":{"type":"CODE","start":69,"end":73,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_35.markups.2":{"type":"CODE","start":75,"end":85,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_35.markups.3":{"type":"CODE","start":90,"end":104,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_35.markups.4":{"type":"CODE","start":265,"end":275,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_36":{"id":"95a3df999a84_36","name":"f585","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*6OgLY2B8we_tAxgyXYrHsw.png","typename":"ImageMetadata"},"text":"Comparing the original to the PCA-transformed pick-up and drop-off locations.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*6OgLY2B8we_tAxgyXYrHsw.png":{"id":"1*6OgLY2B8we_tAxgyXYrHsw.png","originalHeight":708,"originalWidth":996,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:95a3df999a84_37":{"id":"95a3df999a84_37","name":"8104","type":"P","href":null,"layout":null,"metadata":null,"text":"Let us shift our focus on the “pickup_time”, “pickup_day” , and “pickup_month” features we defined earlier. The key property of these features is that they are cyclical in nature, i.e. January is as close to February as it is close to December. Thus we will use the CycleTransformer implemented in vaex.ml which essentially treats each feature as the angle φ in a unit circle in polar coordinates (ρ=1, φ). The, transformer than computes the 𝑥 and 𝑦 projection of the radius ρ, thus getting two new components per feature. This trick perfectly preserves the relative distance between different values, since it is simply a coordinate transformation. You can read more about this approach in this post.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_37.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_37.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_37.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_37.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_37.markups.4","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_37.markups.0":{"type":"CODE","start":266,"end":282,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_37.markups.1":{"type":"CODE","start":298,"end":305,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_37.markups.2":{"type":"A","start":693,"end":702,"href":"http:\u002F\u002Fblog.davidkaleko.com\u002Ffeature-engineering-cyclical-features.html","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_37.markups.3":{"type":"EM","start":442,"end":445,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_37.markups.4":{"type":"EM","start":448,"end":451,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_38":{"id":"95a3df999a84_38","name":"ba87","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*mBB2e7HQk-4YpYSvd0Kk9A.png","typename":"ImageMetadata"},"text":"Encoding the cyclical features with vaex.ml.CycleTransformer perfectly preserves the relative distance between different values.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*mBB2e7HQk-4YpYSvd0Kk9A.png":{"id":"1*mBB2e7HQk-4YpYSvd0Kk9A.png","originalHeight":760,"originalWidth":2630,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:95a3df999a84_39":{"id":"95a3df999a84_39","name":"f37c","type":"P","href":null,"layout":null,"metadata":null,"text":"We apply the same trick to the direction angle, since it is a cyclical feature as well. Let’s plot the features derived from the “pickup_time” column, as to convince ourselves that the transformations make sense.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_39.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_39.markups.0":{"type":"EM","start":149,"end":151,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_40":{"id":"95a3df999a84_40","name":"7c06","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*W_f0FavuG6EhLBnf3QBzPA.png","typename":"ImageMetadata"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*W_f0FavuG6EhLBnf3QBzPA.png":{"id":"1*W_f0FavuG6EhLBnf3QBzPA.png","originalHeight":354,"originalWidth":2626,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:95a3df999a84_41":{"id":"95a3df999a84_41","name":"8aea","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*npNcnQFAYkWPzQ0eN-DJmQ.png","typename":"ImageMetadata"},"text":"Density map of the 𝑥 and 𝑦 projections of the “pickup_time” feature.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_41.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_41.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*npNcnQFAYkWPzQ0eN-DJmQ.png":{"id":"1*npNcnQFAYkWPzQ0eN-DJmQ.png","originalHeight":348,"originalWidth":348,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:95a3df999a84_41.markups.0":{"type":"EM","start":19,"end":22,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_41.markups.1":{"type":"EM","start":25,"end":29,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_42":{"id":"95a3df999a84_42","name":"83c9","type":"P","href":null,"layout":null,"metadata":null,"text":"We see that the transformed features create a perfect unit circle. Note that, unlike a regular wall clock, all 24 hours are represented on the circle. For example, “midnight” has coordinates (x, y) = (1, 0), “6 o’clock” is at (x, y) = (0, 1), while “noon” is at (x, y) = (-1, 0).","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_42.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_42.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_42.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_42.markups.0":{"type":"EM","start":191,"end":208,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_42.markups.1":{"type":"EM","start":226,"end":243,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_42.markups.2":{"type":"EM","start":262,"end":279,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_43":{"id":"95a3df999a84_43","name":"0407","type":"P","href":null,"layout":null,"metadata":null,"text":"Lastly, we only have one continuous feature, “arc_distance” , which we have not paid any attention to. We are simply going to apply standard scaling to it.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_44":{"id":"95a3df999a84_44","name":"451f","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*ioOrCJg0d1BysuRH8LgDxQ.png","typename":"ImageMetadata"},"text":"Standard scaling transformation of a continuous feature with vaex.ml.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*ioOrCJg0d1BysuRH8LgDxQ.png":{"id":"1*ioOrCJg0d1BysuRH8LgDxQ.png","originalHeight":228,"originalWidth":2632,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:95a3df999a84_45":{"id":"95a3df999a84_45","name":"6509","type":"P","href":null,"layout":null,"metadata":null,"text":"Now that we are done with all of the pre-processing tasks, we can create a final list of features we are going to use for training the model.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_46":{"id":"95a3df999a84_46","name":"41a2","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*dXioFe3m1uICxmFRIYzlUQ.png","typename":"ImageMetadata"},"text":"A subset of the features used for training the model.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*dXioFe3m1uICxmFRIYzlUQ.png":{"id":"1*dXioFe3m1uICxmFRIYzlUQ.png","originalHeight":1268,"originalWidth":2628,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:95a3df999a84_47":{"id":"95a3df999a84_47","name":"f3dc","type":"H4","href":null,"layout":null,"metadata":null,"text":"Training the model: Vaex + scikit-learn","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_47.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_47.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_47.markups.0":{"type":"A","start":20,"end":24,"href":"https:\u002F\u002Fgithub.com\u002Fvaexio\u002Fvaex","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_47.markups.1":{"type":"A","start":27,"end":39,"href":"https:\u002F\u002Fscikit-learn.org\u002Fstable\u002F","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_48":{"id":"95a3df999a84_48","name":"9780","type":"P","href":null,"layout":null,"metadata":null,"text":"At this stage we are ready for the model training phase. While vaex.ml does not yet implement any predictive models, it does provide an interface to several of the popular machine learning libraries in the Python ecosystem such as scikit-learn and xgboost. The benefit of using these models via Vaex is that one does not waste any memory while doing the data cleaning, feature engineering and pre-preprocessing, and thus maximizes the available RAM for training the model.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_48.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_48.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_48.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_48.markups.0":{"type":"CODE","start":63,"end":70,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_48.markups.1":{"type":"A","start":231,"end":243,"href":"https:\u002F\u002Fscikit-learn.org\u002Fstable\u002F","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_48.markups.2":{"type":"A","start":248,"end":255,"href":"https:\u002F\u002Fxgboost.readthedocs.io\u002Fen\u002Flatest\u002F","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_49":{"id":"95a3df999a84_49","name":"996c","type":"P","href":null,"layout":null,"metadata":null,"text":"For the current problem, we are still in need of significantly more RAM than available on a typical laptop or desktop computer if we were to materialize all the features we intend to use for the training. To circumvent this issue, we will make use of the SGDRegressor available via scikit-learn. SGDRegressor belongs to a family of predictive models in scikit-learn that, besides the usual .fit, also implement a .partial_fit method. This allows the model to be trained on batches of data, essentially making it out-of-core.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_49.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_49.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_49.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_49.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_49.markups.4","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_49.markups.0":{"type":"CODE","start":255,"end":267,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_49.markups.1":{"type":"CODE","start":296,"end":308,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_49.markups.2":{"type":"CODE","start":390,"end":394,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_49.markups.3":{"type":"CODE","start":413,"end":425,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_49.markups.4":{"type":"A","start":255,"end":267,"href":"https:\u002F\u002Fscikit-learn.org\u002Fstable\u002Fmodules\u002Fgenerated\u002Fsklearn.linear_model.SGDRegressor.html","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_50":{"id":"95a3df999a84_50","name":"f752","type":"P","href":null,"layout":null,"metadata":null,"text":"With the wrapper implemented in vaex.ml one can easily send batches of data from a Vaex DataFrame to the scikit-learn model. The use is straightforward. First instantiate the SGDRegressor from scikit-learn while setting its parameters in the standard way. Then instantiate the IncrementalPredictor implemented in vaex.ml while also providing the main model, a list of features names, the name of the target column, and the batch size. In principle any model can be used as long as it has a .partial_fit method and follows the scikit-learn API convention. Through the batch size one can control the RAM usage. Optionally one can also specify the number of epochs, i.e. how many times the data in each batch is seen by the model, and whether it should be shuffled or not. Finally we call the .fit method on the IncrementalPredictor instance, where we pass the training set DataFrame.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_50.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_50.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_50.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_50.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_50.markups.4","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_50.markups.5","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_50.markups.6","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_50.markups.0":{"type":"CODE","start":32,"end":39,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_50.markups.1":{"type":"CODE","start":175,"end":187,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_50.markups.2":{"type":"CODE","start":277,"end":297,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_50.markups.3":{"type":"CODE","start":313,"end":320,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_50.markups.4":{"type":"CODE","start":490,"end":502,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_50.markups.5":{"type":"CODE","start":790,"end":794,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_50.markups.6":{"type":"CODE","start":809,"end":829,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_51":{"id":"95a3df999a84_51","name":"03bf","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*HCwb8EBuaMNgBYORmu9vuA.png","typename":"ImageMetadata"},"text":"Training a model on ~1 billion samples is easy and fast with Vaex and scikit-learn.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_51.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_51.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*HCwb8EBuaMNgBYORmu9vuA.png":{"id":"1*HCwb8EBuaMNgBYORmu9vuA.png","originalHeight":946,"originalWidth":2630,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:95a3df999a84_51.markups.0":{"type":"A","start":61,"end":65,"href":"https:\u002F\u002Fgithub.com\u002Fvaexio\u002Fvaex","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_51.markups.1":{"type":"A","start":70,"end":82,"href":"https:\u002F\u002Fscikit-learn.org\u002Fstable\u002F","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_52":{"id":"95a3df999a84_52","name":"a701","type":"P","href":null,"layout":null,"metadata":null,"text":"It is quite remarkable that this Vaex + scikit-learn combo lead to a total training time of just 7 minutes on my laptop (MacBook Pro 15\", 2018, 2.6GHz Intel Core i7, 32GB RAM). This includes on-the-fly evaluation of the 14 features used, all of which are virtual columns, and training the scikit-learn model. In addition, with the set of parameters shown above, the RAM usage never surpassed 4 GB, which leaves me plenty of room to run Slack.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_53":{"id":"95a3df999a84_53","name":"c149","type":"P","href":null,"layout":null,"metadata":null,"text":"The exact same setup as shown above was also run by Maarten Breddels on his Lenovo Thinkpad X1 Extreme laptop (Intel Core i7–8750H, 32GB RAM), and the training phase took less than 5 minutes!","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_53.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_53.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_53.markups.0":{"type":"A","start":52,"end":68,"href":null,"anchorType":"USER","userId":"b8a6decc0862","linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_53.markups.1":{"type":"STRONG","start":171,"end":191,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_54":{"id":"95a3df999a84_54","name":"e5e1","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*2xK5xXglAZHv1mQJrivB5g.png","typename":"ImageMetadata"},"text":"Training the SGDRegressor took less than 5 minutes on a Lenovo Thinkpad X1 Extreme laptop (Intel Core i7–8750H, 32GB RAM) running Linux.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*2xK5xXglAZHv1mQJrivB5g.png":{"id":"1*2xK5xXglAZHv1mQJrivB5g.png","originalHeight":896,"originalWidth":2628,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:95a3df999a84_55":{"id":"95a3df999a84_55","name":"cbe5","type":"P","href":null,"layout":null,"metadata":null,"text":"The IncrementalPredictor is not just a convenience class for passing Vaex DataFrames to scikit-learn models. It is also a vaex.ml transformer, meaning that the .transform method returns a shallow copy of a DataFrame containing the model predictions as a virtual column. This is the case for any model wrapper implemented in vaex.ml. Not only does this cost no extra memory, but it also makes it quite convenient to post-process the result and even make ensembles, as well as to calculate various performance metrics and diagnostic plots, as we shall see in a moment.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_55.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_55.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_55.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_55.markups.3","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_55.markups.0":{"type":"CODE","start":4,"end":24,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_55.markups.1":{"type":"CODE","start":122,"end":129,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_55.markups.2":{"type":"CODE","start":160,"end":170,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_55.markups.3":{"type":"CODE","start":324,"end":331,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_56":{"id":"95a3df999a84_56","name":"3ee0","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*ES1ZDpGywSPPxCqshlvzJA.png","typename":"ImageMetadata"},"text":"All model wrappers in vaex.ml are transformers.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*ES1ZDpGywSPPxCqshlvzJA.png":{"id":"1*ES1ZDpGywSPPxCqshlvzJA.png","originalHeight":664,"originalWidth":2630,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:95a3df999a84_57":{"id":"95a3df999a84_57","name":"3cf3","type":"P","href":null,"layout":null,"metadata":null,"text":"Finally, let us constrain the predictions to be within the bounds of the data the model was trained on. This is done to prevent the estimation of unphysical or unrealistic durations for some exotic combinations of feature values. Thus, let us set any predictions smaller than 3 minutes to 3, and any predictions larger than 25 minutes to 25.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_58":{"id":"95a3df999a84_58","name":"686d","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*5Z4kaG5zHDvs6nyhBLz_MA.png","typename":"ImageMetadata"},"text":"The output of a vaex.ml model wrapper is a virtual column, which makes it easy to post-process, or to use for creating diagnostic plots or compute metrics.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*5Z4kaG5zHDvs6nyhBLz_MA.png":{"id":"1*5Z4kaG5zHDvs6nyhBLz_MA.png","originalHeight":182,"originalWidth":2628,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:95a3df999a84_59":{"id":"95a3df999a84_59","name":"01cd","type":"H4","href":null,"layout":null,"metadata":null,"text":"What about a pipeline?","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_60":{"id":"95a3df999a84_60","name":"ce97","type":"P","href":null,"layout":null,"metadata":null,"text":"Now that the model is trained, we would like to know how well it is doing by applying it on the test set. You may have noticed that, unlike other libraries, we did not explicitly create a pipeline to propagate all the data cleaning and transformation steps. In fact, with Vaex, a pipeline is automatically being created as one is doing exploration and transformation of the data. Each Vaex DataFrame contains a state, which is a serialisable object containing all of the transformations applied to it: filtering, creating new virtual columns, column transformation).","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_60.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_60.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_60.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_60.markups.0":{"type":"STRONG","start":292,"end":305,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_60.markups.1":{"type":"EM","start":305,"end":306,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_60.markups.2":{"type":"EM","start":411,"end":416,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_61":{"id":"95a3df999a84_61","name":"ff59","type":"P","href":null,"layout":null,"metadata":null,"text":"Recall that all of the features we created, along with the output of the PCA transformations, scaling and the predictive model output, including the final tinkering with the predictions are virtual columns, and thus are stored in the state of the training DataFrame. Thus, to calculate the predictions on the test set, all we need to do is to apply this state to that test set DataFrame, and all of the transformations will be automatically propagated.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_62":{"id":"95a3df999a84_62","name":"b327","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*Tikk4ccQpY2KXzs1iYGOvw.png","typename":"ImageMetadata"},"text":"Applying the state from the training to the test set results in automatic propagation of filters and virtual columns.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*Tikk4ccQpY2KXzs1iYGOvw.png":{"id":"1*Tikk4ccQpY2KXzs1iYGOvw.png","originalHeight":786,"originalWidth":2630,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:95a3df999a84_63":{"id":"95a3df999a84_63","name":"a640","type":"P","href":null,"layout":null,"metadata":null,"text":"The state can be also serialized and read from disk, which greatly simplifies the task of model deployment.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_64":{"id":"95a3df999a84_64","name":"7147","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*GV6tsL9Gmhd0ePhSSVdRDw.png","typename":"ImageMetadata"},"text":"The state of a Vaex DataFrame can be easily serialized and read from disk. This is can be extremely useful when deploying the model.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*GV6tsL9Gmhd0ePhSSVdRDw.png":{"id":"1*GV6tsL9Gmhd0ePhSSVdRDw.png","originalHeight":316,"originalWidth":2628,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:95a3df999a84_65":{"id":"95a3df999a84_65","name":"cc4d","type":"H4","href":null,"layout":null,"metadata":null,"text":"Model diagnostics","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_66":{"id":"95a3df999a84_66","name":"2faf","type":"P","href":null,"layout":null,"metadata":null,"text":"Now that the trip duration predictions are available for both the training and the test set, let us calculate some performance metrics. Since this is a regression problem, we will calculate the mean absolute and the mean squared errors.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_67":{"id":"95a3df999a84_67","name":"0a61","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*JHdffifKEaCltke9uCmprw.png","typename":"ImageMetadata"},"text":"Computing the absolute and mean square errors for both the train and the test sets.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*JHdffifKEaCltke9uCmprw.png":{"id":"1*JHdffifKEaCltke9uCmprw.png","originalHeight":818,"originalWidth":2628,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:95a3df999a84_68":{"id":"95a3df999a84_68","name":"e56f","type":"P","href":null,"layout":null,"metadata":null,"text":"Notice that calculation of the 4 statistics shown in the figure above took ~4.5 minutes. This is quite impressive considering that the computation requires evaluating all the features which were then passed on to the model to obtain the predictions, and this was done for over 1 billion samples between the train and the test sets, twice over.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_69":{"id":"95a3df999a84_69","name":"3794","type":"P","href":null,"layout":null,"metadata":null,"text":"The mean absolute error evaluated on the test set is just over 3.5 minutes. Whether this is an acceptable error, one should probably consult with a frequent taxi passenger or a taxi driver in New York City. We should not accept such statistics at face value, and hence let us create a couple of diagnostic plots. Let us plot the distribution of the actual vs the estimated trip durations, as well as the absolute error of the predicted durations.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_70":{"id":"95a3df999a84_70","name":"32b2","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*Q8X1EzgP3UR23o6Vq51ilA.png","typename":"ImageMetadata"},"text":"Left: A density map of the actual vs the estimated trip durations of the test set. Right: Absolute error of the predicted durations of the test set.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*Q8X1EzgP3UR23o6Vq51ilA.png":{"id":"1*Q8X1EzgP3UR23o6Vq51ilA.png","originalHeight":420,"originalWidth":996,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:95a3df999a84_71":{"id":"95a3df999a84_71","name":"fb33","type":"P","href":null,"layout":null,"metadata":null,"text":"While we see a strong correlation between the actual and the estimated trip durations, the left panel of the figure above also shows that the model estimates are systematically biased to higher values. One potential reason for this is the non-Gaussian distribution of the training features and the target variable. There could also be some outliers that negatively affect the model performance, despite or filtering efforts earlier. On the other hand, it is not that bad to be a bit pessimistic when it comes to estimating taxi trip durations, perhaps.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_72":{"id":"95a3df999a84_72","name":"c39d","type":"P","href":null,"layout":null,"metadata":null,"text":"The right panel shows the number of trips per absolute error bin. In fact, 77% of all trip durations in the test set were estimated with an absolute error of less than 5 minutes. While the current model may serve as a good starting baseline, there is plenty of room for improvement. The good news is that with Vaex, we have a tool that enables us to be creative and try out many features and pre-processing combinations in an incredibly efficient manner.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_73":{"id":"95a3df999a84_73","name":"7b64","type":"P","href":null,"layout":null,"metadata":null,"text":"Speaking of the model, the trained instance of the SGDRegressor is readily available as an attribute of the IncrementalPredictor. It can easily be accessed, and we can use it for example to inspect the relative importance of the features used to train the model.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_73.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_73.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_73.markups.0":{"type":"CODE","start":51,"end":63,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_73.markups.1":{"type":"CODE","start":108,"end":128,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_74":{"id":"95a3df999a84_74","name":"c6f4","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*vfWmyq0-Uoz2TAyJqZYJ8Q.png","typename":"ImageMetadata"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*vfWmyq0-Uoz2TAyJqZYJ8Q.png":{"id":"1*vfWmyq0-Uoz2TAyJqZYJ8Q.png","originalHeight":894,"originalWidth":2630,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:95a3df999a84_75":{"id":"95a3df999a84_75","name":"3078","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*rML_Fhek-lQgdzqSkhu4Iw.png","typename":"ImageMetadata"},"text":"The relative importance of the features used to train the model.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*rML_Fhek-lQgdzqSkhu4Iw.png":{"id":"1*rML_Fhek-lQgdzqSkhu4Iw.png","originalHeight":505,"originalWidth":704,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:95a3df999a84_76":{"id":"95a3df999a84_76","name":"43ac","type":"H4","href":null,"layout":null,"metadata":null,"text":"What about production?","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_77":{"id":"95a3df999a84_77","name":"4063","type":"P","href":null,"layout":null,"metadata":null,"text":"Imagine that we manage to iron all the quirks out of our model, and that after a thorough validation it is ready to be put in production. In principle, this is quite easily done with Vaex. All that is required is for one to store the state in the production environment. The state can than be easily applied on an incoming Vaex DataFrame, and the predictions will be readily available.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_78":{"id":"95a3df999a84_78","name":"cfb6","type":"P","href":null,"layout":null,"metadata":null,"text":"Recall that the state not only memorizes all virtual columns that were created, but also which filters were applied. So, if one would query a prediction for a sample which would be filtered out if it was part of the training set, at prediction time it would also be filtered out, and thus that sample would “disappear”. In reality, samples can not just go missing, and many production cases require that we always return at least some kind of a prediction, no matter the query.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_79":{"id":"95a3df999a84_79","name":"8ac3","type":"P","href":null,"layout":null,"metadata":null,"text":"To overcome this hurdle, we can make use of the fact that in Vaex, a filtered DataFrame actually still contains all of the data, plus an expression that defines which rows are filtered out, and which are kept. While in other common libraries such as Numpy and Pandas one can only filter out more rows, in Vaex one can actually get rows back by using the “or” operator in a filter.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_80":{"id":"95a3df999a84_80","name":"b6a2","type":"P","href":null,"layout":null,"metadata":null,"text":"Let’s implement this idea for our problem. We add a variable called “production” to the training DataFrame and set its value to False. Then, we add an additional filter, which in this case is just the value of the variable. However, now we use the “or” instead of the default “and” operator which is used in cases like df3 = df2[df2.x \u003C 5]. The idea is simple: if this last filter is set to False, it will have no effect on any other filters since its mode of operation is ”or”. If it is set to True however, which can be done by modifying the value of the “production” variable, it will invalidate all other filters, and thus any data point can pass through.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_80.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_80.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_80.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_80.markups.3","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_80.markups.0":{"type":"CODE","start":128,"end":133,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_80.markups.1":{"type":"CODE","start":319,"end":339,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_80.markups.2":{"type":"CODE","start":391,"end":396,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_80.markups.3":{"type":"CODE","start":495,"end":499,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_81":{"id":"95a3df999a84_81","name":"b368","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*iZGMFSTIWpHffrLRWp-H7w.png","typename":"ImageMetadata"},"text":"An example of how filters can be enabled or disabled with a help of a variable in a Vaex DataFrame.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*iZGMFSTIWpHffrLRWp-H7w.png":{"id":"1*iZGMFSTIWpHffrLRWp-H7w.png","originalHeight":784,"originalWidth":2634,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:95a3df999a84_82":{"id":"95a3df999a84_82","name":"815a","type":"P","href":null,"layout":null,"metadata":null,"text":"The code block above shows how we can include and modify the “production” variable such that the filters are disabled when needed. We can easily confirm that in this case, the test DataFrame contains as many samples as it did when we preformed the train\u002Ftest split, with a prediction for each of them. Calculating the mean absolute error in this case gives us a higher result of 13 minutes, which is not surprising given that the model is ill trained to provide predictions for the many outliers or erroneous samples that are now part of the test set.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_83":{"id":"95a3df999a84_83","name":"a11a","type":"H4","href":null,"layout":null,"metadata":null,"text":"Our vision of the future","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_84":{"id":"95a3df999a84_84","name":"bdc5","type":"P","href":null,"layout":null,"metadata":null,"text":"I hope I managed to show you how easy and convenient it is to create a machine learning pipeline using Vaex, even when the training data numbers over a billion samples and takes over 100 GB of disk space. I am sure you will find much more creative ways of using Vaex to improve the model presented in this article, as well as create many new ones for various other problems and use cases.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_84.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_84.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_84.markups.0":{"type":"A","start":103,"end":107,"href":"https:\u002F\u002Fgithub.com\u002Fvaexio\u002Fvaex","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_84.markups.1":{"type":"A","start":262,"end":266,"href":"https:\u002F\u002Fgithub.com\u002Fvaexio\u002Fvaex","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_85":{"id":"95a3df999a84_85","name":"277e","type":"P","href":null,"layout":null,"metadata":null,"text":"We, the Vaex team, believe in a future in which data science and machine learning can be down both conveniently and efficiently, even for “big” data, with tools that are free and open-source. We aim to make Vaex better integrated with the pillars of the Python data science stack, and are putting considerable efforts in bringing Vaex and scikit-learn closer together. Stay tuned, there are definitely more exciting things coming this way!","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_85.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:95a3df999a84_85.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:95a3df999a84_85.markups.0":{"type":"A","start":8,"end":12,"href":"https:\u002F\u002Fgithub.com\u002Fvaexio\u002Fvaex","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_85.markups.1":{"type":"A","start":321,"end":367,"href":"https:\u002F\u002Fgithub.com\u002Fscikit-learn\u002Fscikit-learn\u002Fpull\u002F14963","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:95a3df999a84_86":{"id":"95a3df999a84_86","name":"3530","type":"P","href":null,"layout":null,"metadata":null,"text":"Happy data sciencing!","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Tag:data-science":{"id":"data-science","displayTitle":"Data Science","__typename":"Tag"},"Tag:machine-learning":{"id":"machine-learning","displayTitle":"Machine Learning","__typename":"Tag"},"Tag:scikit-learn":{"id":"scikit-learn","displayTitle":"Scikit Learn","__typename":"Tag"},"Tag:vaex":{"id":"vaex","displayTitle":"Vaex","__typename":"Tag"},"Tag:big-data":{"id":"big-data","displayTitle":"Big Data","__typename":"Tag"},"Collaborator:9e2968e6f385-b8a6decc0862":{"id":"9e2968e6f385-b8a6decc0862","user":{"type":"id","generated":false,"id":"User:b8a6decc0862","typename":"User"},"state":"visible","__typename":"Collaborator"},"User:b8a6decc0862":{"id":"b8a6decc0862","name":"Maarten Breddels","__typename":"User"},"Collaborator:9e2968e6f385-eba261287b37":{"id":"9e2968e6f385-eba261287b37","user":{"type":"id","generated":false,"id":"User:eba261287b37","typename":"User"},"state":"visible","__typename":"Collaborator"},"User:eba261287b37":{"id":"eba261287b37","name":"Jonathan Alexander","__typename":"User"},"Collaborator:9e2968e6f385-895063a310f4":{"id":"9e2968e6f385-895063a310f4","user":{"type":"id","generated":false,"id":"User:895063a310f4","typename":"User"},"state":"visible","__typename":"Collaborator"},"ImageMetadata:1*ChFMdf--f5jbm-AYv6VdYA@2x.png":{"id":"1*ChFMdf--f5jbm-AYv6VdYA@2x.png","__typename":"ImageMetadata"},"$Post:9e2968e6f385.previewContent":{"subtitle":"Make your laptop feel like a supercomputer.","__typename":"PreviewContent"},"machine-learning":{"name":"Machine Learning","slug":"machine-learning","__typename":"Topic"},"ROOT_QUERY.variantFlags.0":{"name":"aa_ios_flag_validation","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.0.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.0.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.1":{"name":"add_friction_to_signup","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.1.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.1.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.2":{"name":"allow_access","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.2.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.2.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.3":{"name":"allow_signup","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.3.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.3.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.4":{"name":"allow_test_auth","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.4.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.4.valueType":{"__typename":"VariantFlagString","value":"disallow"},"ROOT_QUERY.variantFlags.5":{"name":"assign_default_topic_to_posts","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.5.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.5.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.6":{"name":"available_annual_plan","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.6.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.6.valueType":{"__typename":"VariantFlagString","value":"2c754bcc2995"},"ROOT_QUERY.variantFlags.7":{"name":"available_monthly_plan","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.7.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.7.valueType":{"__typename":"VariantFlagString","value":"60e220181034"},"ROOT_QUERY.variantFlags.8":{"name":"branch_seo_metadata","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.8.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.8.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.9":{"name":"browsable_stream_config_bucket","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.9.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.9.valueType":{"__typename":"VariantFlagString","value":"curated-topics"},"ROOT_QUERY.variantFlags.10":{"name":"disable_go_social","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.10.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.10.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.11":{"name":"disable_gosocial_followers_that_you_follow","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.11.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.11.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.12":{"name":"disable_ios_resume_reading_toast","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.12.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.12.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.13":{"name":"disable_ios_subscription_activity_carousel","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.13.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.13.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.14":{"name":"disable_mobile_featured_chunk","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.14.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.14.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.15":{"name":"disable_post_recommended_from_friends_provider","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.15.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.15.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.16":{"name":"enable_android_local_currency","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.16.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.16.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.17":{"name":"enable_annual_renewal_reminder_email","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.17.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.17.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.18":{"name":"enable_app_flirty_thirty","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.18.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.18.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.19":{"name":"enable_auto_tier","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.19.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.19.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.20":{"name":"enable_automated_mission_control_triggers","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.20.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.20.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.21":{"name":"enable_bounded_diversification_group_b","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.21.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.21.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.22":{"name":"enable_branch_io","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.22.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.22.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.23":{"name":"enable_branding","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.23.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.23.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.24":{"name":"enable_branding_fonts","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.24.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.24.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.25":{"name":"enable_dedicated_series_tab_api_ios","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.25.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.25.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.26":{"name":"enable_different_grid","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.26.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.26.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.27":{"name":"enable_disregard_trunc_state_for_footer","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.27.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.27.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.28":{"name":"enable_edit_alt_text","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.28.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.28.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.29":{"name":"enable_email_sign_in_captcha","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.29.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.29.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.30":{"name":"enable_embedding_based_diversification","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.30.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.30.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.31":{"name":"enable_expanded_feature_chunk_pool","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.31.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.31.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.32":{"name":"enable_filter_by_resend_rules","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.32.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.32.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.33":{"name":"enable_first_name_on_paywall","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.33.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.33.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.34":{"name":"enable_geolocation_stripe_standard","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.34.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.34.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.35":{"name":"enable_google_one_tap","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.35.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.35.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.36":{"name":"enable_ios_post_stats","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.36.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.36.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.37":{"name":"enable_janky_spam_rules","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.37.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.37.valueType":{"__typename":"VariantFlagString","value":"users,posts"},"ROOT_QUERY.variantFlags.38":{"name":"enable_json_logs_trained_ranker","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.38.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.38.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.39":{"name":"enable_kafka_events","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.39.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.39.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.40":{"name":"enable_kbfd_rex","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.40.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.40.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.41":{"name":"enable_kbfd_rex_app_highlights","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.41.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.41.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.42":{"name":"enable_kbfd_rex_daily_digest","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.42.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.42.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.43":{"name":"enable_lite_membership_page","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.43.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.43.valueType":{"__typename":"VariantFlagString","value":"new-content"},"ROOT_QUERY.variantFlags.44":{"name":"enable_lite_notifications","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.44.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.44.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.45":{"name":"enable_lite_post","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.45.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.45.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.46":{"name":"enable_lite_post_cd","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.46.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.46.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.47":{"name":"enable_lite_post_highlights","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.47.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.47.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.48":{"name":"enable_lite_post_highlights_view_only","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.48.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.48.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.49":{"name":"enable_lite_profile","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.49.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.49.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.50":{"name":"enable_lite_pub_header_menu","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.50.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.50.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.51":{"name":"enable_lite_server_upstream_deadlines","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.51.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.51.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.52":{"name":"enable_lite_stories","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.52.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.52.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.53":{"name":"enable_lite_topics","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.53.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.53.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.54":{"name":"enable_lite_unread_notification_count_mutation","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.54.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.54.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.55":{"name":"enable_lo_homepage","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.55.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.55.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.56":{"name":"enable_logged_out_homepage_signup","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.56.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.56.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.57":{"name":"enable_login_code_flow","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.57.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.57.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.58":{"name":"enable_marketing_emails","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.58.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.58.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.59":{"name":"enable_media_resource_try_catch","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.59.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.59.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.60":{"name":"enable_membership_remove_section_a","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.60.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.60.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.61":{"name":"enable_more_branch_data","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.61.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.61.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.62":{"name":"enable_new_collaborative_filtering_data","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.62.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.62.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.63":{"name":"enable_new_pub_modules","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.63.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.63.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.64":{"name":"enable_new_suspended_page","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.64.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.64.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.65":{"name":"enable_new_three_dot_menu","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.65.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.65.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.66":{"name":"enable_nonmember_reading_list_web","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.66.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.66.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.67":{"name":"enable_optimizely","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.67.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.67.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.68":{"name":"enable_parsely","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.68.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.68.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.69":{"name":"enable_patronus_on_kubernetes","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.69.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.69.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.70":{"name":"enable_popularity_feature","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.70.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.70.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.71":{"name":"enable_post_import","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.71.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.71.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.72":{"name":"enable_post_seo_settings_screen","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.72.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.72.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.73":{"name":"enable_post_settings_screen","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.73.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.73.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.74":{"name":"enable_primary_topic_for_mobile","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.74.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.74.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.75":{"name":"enable_recently_viewed_tab_on_web","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.75.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.75.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.76":{"name":"enable_rito_caching","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.76.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.76.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.77":{"name":"enable_rito_upstream_deadlines","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.77.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.77.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.78":{"name":"enable_rtr_channel","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.78.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.78.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.79":{"name":"enable_save_to_medium","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.79.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.79.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.80":{"name":"enable_sign_up_with_email","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.80.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.80.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.81":{"name":"enable_suggest_account","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.81.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.81.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.82":{"name":"enable_suggest_account_li","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.82.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.82.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.83":{"name":"enable_tick_landing_page","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.83.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.83.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.84":{"name":"enable_tipalti_onboarding","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.84.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.84.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.85":{"name":"enable_topic_lifecycle_email","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.85.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.85.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.86":{"name":"enable_tribute_landing_page","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.86.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.86.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.87":{"name":"enable_trumpland_landing_page","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.87.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.87.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.88":{"name":"glyph_font_set","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.88.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.88.valueType":{"__typename":"VariantFlagString","value":"m2"},"ROOT_QUERY.variantFlags.89":{"name":"google_sign_in_android","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.89.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.89.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.90":{"name":"is_not_medium_subscriber","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.90.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.90.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.91":{"name":"new_transition_page","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.91.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.91.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.92":{"name":"pardon_the_interruption_4","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.92.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.92.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.93":{"name":"pub_sidebar","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.93.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.93.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.94":{"name":"rank_model","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.94.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.94.valueType":{"__typename":"VariantFlagString","value":"default"},"ROOT_QUERY.variantFlags.95":{"name":"redis_read_write_splitting","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.95.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.95.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.96":{"name":"signin_services","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.96.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.96.valueType":{"__typename":"VariantFlagString","value":"twitter,facebook,google,email,google-fastidv,google-one-tap,apple"},"ROOT_QUERY.variantFlags.97":{"name":"signup_services","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.97.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.97.valueType":{"__typename":"VariantFlagString","value":"twitter,facebook,google,email,google-fastidv,google-one-tap,apple"},"ROOT_QUERY.variantFlags.98":{"name":"use_new_admin_topic_backend","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.98.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.98.valueType":{"__typename":"VariantFlagBoolean","value":true}}</script><script src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/manifest.ce6763e1.js"></script><script src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/vendors_main.a133fb80.chunk.js"></script><script src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/main.892dd8f8.chunk.js"></script><script src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/vendors_screen.collection.packageBuilder_screen.landingpages.pres45_screen.landingpages.tribute_scre_3e410f11.d2f0cb5c.chunk.js"></script>
<script src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/screen.collection.packageBuilder_screen.landingpages.pres45_screen.landingpages.tribute_screen.post__4767c889.74ed7bee.chunk.js"></script>
<script src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/screen.collection.packageBuilder_screen.landingpages.pres45_screen.landingpages.tribute_screen.post__73c4bb05.7e27834d.chunk.js"></script>
<script src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/screen.post_screen.post.amp_screen.profile_screen.sequence.library_screen.sequence.post_screen.stori_aba94ffa.5a17883b.chunk.js"></script>
<script src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/screen.post.9ea32b4e.chunk.js"></script><script>window.main();</script><iframe frameborder="0" scrolling="no" style="background-color: transparent; border: 0px; display: none;" src="./ML impossible_ Train 1 billion samples in 5 minutes on your laptop using Vaex and Scikit-Learn_files/saved_resource.html"></iframe><div id="GOOGLE_INPUT_CHEXT_FLAG" input="" input_stat="{&quot;tlang&quot;:true,&quot;tsbc&quot;:true,&quot;pun&quot;:true,&quot;mk&quot;:true,&quot;ss&quot;:true}" style="display: none;"></div></body><auto-scroll></auto-scroll></html>